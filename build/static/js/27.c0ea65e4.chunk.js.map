{"version":3,"sources":["assets/svg/placeholder.png","pages/dashboard/PostPhotoModal.tsx","components/event/CreateEvent.tsx","pages/dashboard/PostInput.tsx","assets/svg/no-posts.svg","components/UserListModal.tsx","pages/event/EventInviteModal.tsx","pages/event/SingleEvent.tsx"],"names":["PostPhotoModal","open","setOpen","isPhoto","postingIn","customInId","setNotification","useNotifications","usePostContext","setPosts","posts","useMutation","addPost","onSuccess","data","post","unshift","show","title","buttonText","buttonUrl","links","postById","postUrl","mutate","isLoading","isError","error","useState","media","setMedia","upload","uploadMediaToServer","a","modifiedData","postData","postType","text","altText","postedIn","id","nanoid","url","location","type","postImageRef","useRef","onAltText","setOnAltText","setAltText","disablePadding","header","className","value","onChange","e","target","textarea","rows","gradient","rounded","onClick","invert","label","size","src","URL","createObjectURL","alt","controls","controlsList","current","click","ref","img","files","accept","loading","preventDefault","fd","FormData","append","CreateEvent","eventData","fullName","validationSchema","Yup","eventName","required","min","max","eventDescription","initialValues","startDate","Date","endDate","startTime","endTime","timezone","formRef","postMutation","createEvent","message","eventId","viewEvent","values","setValues","uploadMultipleImages","b","length","finalImageList","map","coverPhoto","find","originalname","name","profilePhoto","setCoverPhoto","setProfilePhoto","uploadFunction","setTimeout","onSubmit","editMode","isEmpty","useEffect","coverPicture","profilePicture","setSelectedTimeZone","profileImageSelectorRef","coverImageSelectorRef","selectedTimeZone","enableReinitialize","innerRef","showFileExplorerForCover","placeholder","showFileExplorerForProfile","avatarPlaceholder","selectedItem","list","t","cols","errors","toString","disabled","PostInput","customButtons","showPostModal","setShowPostModal","showOtherModals","setShowOtherModals","showEventModal","setShowEventModal","defaultButtons","Icon","HiOutlinePhotograph","BsCameraVideo","bgColor","BiCalendarEvent","RiArticleLine","content","UsersListModal","userList","getType","useAccountType","user","isBusiness","isPersonal","window","getProfile","onUserClick","business","company","companyName","background","education","_id","EventInviteModal","followingList","event","refetchGroup","selectedUsers","setSelectedUsers","config","users","useQuery","fetchUsers","isFetched","isSuccess","sendEventInvite","unselectAll","sendingInvites","errorSendingInvites","localUsers","setLocalUsers","Modal","fixedBottom","Button","loadingText","targetIdArray","onSendInvite","toLowerCase","searchedList","filter","firstName","includes","lastName","alreadyAttendee","attendees","ev","inviteSent","invites","findIndex","remove","checked","Boolean","d","userId","Spinner","Error","getAMPM","time","f","split","n","Number","SingleEventView","userData","useParams","fetchSingleEvent","refetch","_deleteEvent","deleteEvent","showModal","setShowModal","showAttendeesModal","setShowAttendeesModal","history","useHistory","push","FEED","showEditEventModal","setShowEditEventModal","fetchPost","fetchMultiplePostsById","enabled","dropdownList","Loading","authorized","eventBy","postCount","count","DashboardHeader","Meta","pageTitle","imageUrl","description","following","DashboardLayout","secondCol","Dropdown","profileUrl","href","moment","format","slice","attendee","CgPoll","endMessage","dataLength","scrollableTarget","next","hasMore","loader","Post","Card","NoPosts","thirdColClass","thirdCol","cardTitle"],"mappings":"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","file":"static/js/27.c0ea65e4.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/placeholder.c69d1bed.png\";","import { addPost, uploadMediaToServer } from 'apis/mutations'\nimport Button from 'components/atoms/Button'\nimport Modal from 'components/atoms/Modal'\nimport NormalFormInput from 'components/atoms/NormalFormInput'\nimport { links } from 'constants/Links'\nimport { useNotifications } from 'context/NotificationContext'\nimport { usePostContext } from 'context/PostContext'\nimport { IPost } from 'interfaces/UniversalInterface'\nimport { nanoid } from 'nanoid'\nimport React, { useRef, useState } from 'react'\nimport { useMutation } from 'react-query'\n\nconst PostPhotoModal = ({\n  open,\n  setOpen,\n  isPhoto = true,\n  postingIn = 'general',\n  customInId,\n}: {\n  open: boolean\n  postingIn?: IPost['postedIn']\n  customInId?: string\n  isPhoto: boolean\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>\n}) => {\n  const { setNotification } = useNotifications()\n\n  const { setPosts, posts } = usePostContext()\n\n  const { mutate, isLoading, isError, error } = useMutation(addPost, {\n    onSuccess: (data) => {\n      const post = data.data.data\n      posts.unshift(post)\n      setPosts([...posts])\n\n      setOpen(false)\n      setNotification({\n        show: true,\n        title: 'New post added.',\n        buttonText: 'View',\n        buttonUrl: links.postById(post.postUrl),\n      })\n    },\n  })\n\n  const [media, setMedia] = useState(null)\n\n  const upload = useMutation(uploadMediaToServer, {\n    onSuccess: (a) => {\n      const modifiedData = {\n        postData: {\n          postType: isPhoto ? 'withPhoto' : 'withVideo',\n          text: altText || '',\n          postedIn: postingIn,\n          customInId: customInId,\n          links: [\n            {\n              id: nanoid(12),\n              url: a?.data?.data?.location,\n              type: isPhoto ? 'image' : 'video',\n            },\n          ],\n        },\n      }\n      mutate(modifiedData)\n    },\n  })\n\n  const postImageRef: any = useRef()\n\n  const onImageSelect = (e: any) => {\n    const img = e.target.files[0]\n    setMedia(img)\n  }\n\n  const showFileExplorer = () => postImageRef?.current?.click()\n\n  const onCancel = () => {\n    setMedia(null)\n    setOpen(false)\n  }\n\n  const onSubmit = (e: any) => {\n    e.preventDefault()\n    const fd = new FormData()\n    fd.append('image', media)\n\n    upload.mutate(fd)\n  }\n\n  const [onAltText, setOnAltText] = useState(false)\n  const [altText, setAltText] = useState('')\n\n  const onAltTextChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const { value } = e.target\n    setAltText(value)\n  }\n\n  return (\n    <Modal\n      disablePadding\n      setOpen={setOpen}\n      header={`Edit your ${isPhoto ? 'photo' : 'video'}`}\n      open={open}\n    >\n      <div className=\" min-w-132 max-w-132 min-h-56 max-h-132 flex items-center justify-center overflow-y-auto\">\n        {media ? (\n          <div className=\"\">\n            {onAltText ? (\n              <div className=\"px-12\">\n                <h4 className=\"mb-1 text-gray-600 dark:text-gray-500\">\n                  Alt text\n                </h4>\n                <p className=\"dark:text-gray-700 text-gray-400 mb-2\">\n                  Alt text describes images for people who have trouble seeing\n                  them. If you donâ€™t add alt text, it may be automatically\n                  generated after you post. You can edit it anytime.\n                </p>\n                <NormalFormInput\n                  value={altText}\n                  onChange={onAltTextChange}\n                  textarea\n                  rows={6}\n                />\n                <div className=\"mt-5 gap-x-4 px-4 m-1 sm:mt-4 flex justify-end  items-center\">\n                  <Button\n                    gradient\n                    rounded=\"rounded-full\"\n                    onClick={() => {\n                      setAltText('')\n                      setOnAltText(false)\n                    }}\n                    invert\n                    label=\"Cancel\"\n                    size=\"sm\"\n                  />\n                  <Button\n                    gradient\n                    rounded=\"rounded-full\"\n                    label=\"Save\"\n                    onClick={() => {\n                      setOnAltText(false)\n                    }}\n                    size=\"sm\"\n                  />\n                </div>\n              </div>\n            ) : (\n              <div>\n                {isPhoto ? (\n                  <img\n                    className=\"w-full\"\n                    src={URL.createObjectURL(media)}\n                    alt=\"\"\n                  />\n                ) : (\n                  <video\n                    controls\n                    className=\"w-full\"\n                    controlsList=\"nodownload\"\n                    src={URL.createObjectURL(media)}\n                  />\n                )}\n              </div>\n            )}\n            <div className=\"absolute bottom-5 left-5 pt-4 mb-2 pl-4\">\n              <Button\n                onClick={() => setOnAltText(!onAltText)}\n                invert={!onAltText}\n                label=\"Alt text\"\n              />\n            </div>\n          </div>\n        ) : (\n          <Button\n            onClick={showFileExplorer}\n            label={`Select ${isPhoto ? 'image' : 'video'} to share`}\n            gradient\n            invert\n            size=\"lg\"\n          />\n        )}\n\n        {/* HIDDEN IMAGE INPUT */}\n        <input\n          // @ts-ignore\n          ref={postImageRef}\n          className=\"hidden\"\n          type=\"file\"\n          onChange={onImageSelect}\n          accept={isPhoto ? 'image/*' : 'video/*'}\n        />\n      </div>\n      <div className=\"mt-5 border-t border-gray-200 dark:border-gray-700 pt-4 gap-x-4 px-4 m-1 sm:mt-4 flex justify-end  items-center\">\n        <Button\n          gradient\n          rounded=\"rounded-full\"\n          onClick={onCancel}\n          invert\n          label=\"Cancel\"\n          size=\"lg\"\n        />\n        <Button\n          gradient\n          rounded=\"rounded-full\"\n          loading={isLoading || upload.isLoading}\n          label=\"Done\"\n          onClick={onSubmit}\n          size=\"lg\"\n        />\n      </div>\n      {isError && <p className=\"text-red-500 text-sm\">{error}</p>}\n    </Modal>\n  )\n}\n\nexport default PostPhotoModal\n","import { addPost, createEvent, uploadMultipleImages } from 'apis/mutations'\nimport placeholder from 'assets/svg/placeholder.png'\nimport Error from 'components/alerts/Error'\nimport Button from 'components/atoms/Button'\nimport FormInput from 'components/atoms/FormInput'\nimport FormSelector from 'components/atoms/FormSelector'\nimport Modal from 'components/atoms/Modal'\nimport { links } from 'constants/Links'\nimport { useNotifications } from 'context/NotificationContext'\nimport { Form, Formik } from 'formik'\nimport { IEvent } from 'interfaces/UniversalInterface'\nimport { isEmpty, map } from 'lodash'\nimport React, { useEffect, useRef, useState } from 'react'\nimport { AiOutlineEdit } from 'react-icons/ai'\nimport { useMutation } from 'react-query'\nimport { avatarPlaceholder } from 'state/Redux/constants'\nimport { timezone } from 'values/values'\nimport * as Yup from 'yup'\n\nconst CreateEvent = ({\n  open,\n  setOpen,\n  eventData,\n  fullName = '',\n}: {\n  open: boolean\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>\n  eventData?: IEvent\n  fullName: string\n}) => {\n  const validationSchema = Yup.object({\n    eventName: Yup.string().required('Event Name is required').min(10).max(150),\n    eventDescription: Yup.string()\n      .required('Event Description is required')\n      .min(10)\n      .max(600),\n\n    // startTime\n  })\n\n  // @ts-ignore\n  const initialValues: IEvent = {\n    eventName: eventData?.eventName || '',\n    eventDescription: eventData?.eventDescription || '',\n    startDate: eventData?.startDate || new Date(),\n    endDate: eventData?.endDate || new Date(),\n    startTime: eventData?.startTime || '',\n    endTime: eventData?.endTime || '',\n    timezone: eventData?.timezone || '',\n  }\n\n  const formRef = useRef()\n  const { setNotification } = useNotifications()\n\n  const postMutation = useMutation(addPost)\n\n  const { mutate, isLoading, isError, error } = useMutation(createEvent, {\n    onSuccess: (data) => {\n      // console.log(data)\n      const message = data.data.message\n      const eventId = data.data.data\n      setNotification({\n        show: true,\n        title: message,\n        buttonText: 'View',\n        buttonUrl: links.viewEvent(eventId),\n      })\n\n      postMutation.mutate({\n        postData: {\n          text: `${fullName} has organized an event.`,\n          postType: 'event',\n          customInId: eventId,\n        },\n      })\n    },\n  })\n\n  const [values, setValues] = useState(null)\n\n  const upload = useMutation(uploadMultipleImages, {\n    onSuccess: (a, b) => {\n      if (values) {\n        if (a.data.data && a.data.data.length) {\n          const finalImageList: any[] = map(a.data.data, (img) => img)\n\n          mutate({\n            ...values,\n            coverPhoto: finalImageList.find(\n              (img) => img.originalname === coverPhoto.name\n            )?.location,\n\n            profilePhoto: finalImageList.find(\n              (img) => img.originalname === profilePhoto.name\n            )?.location,\n          })\n        } else {\n          mutate({\n            ...values,\n          })\n        }\n        setOpen(false)\n        setCoverPhoto(null)\n        setProfilePhoto(null)\n      }\n    },\n  })\n\n  const uploadFunction = () => {\n    const fd = new FormData()\n\n    fd.append('images', profilePhoto)\n    fd.append('images', coverPhoto)\n\n    setTimeout(() => {\n      upload.mutate(fd)\n    }, 500)\n  }\n\n  const onSubmit = async (values: any) => {\n    setValues({ ...values })\n    uploadFunction()\n  }\n\n  const editMode = !isEmpty(eventData)\n\n  useEffect(() => {\n    if (editMode) {\n      setCoverPhoto(eventData.coverPicture)\n      setProfilePhoto(eventData.profilePicture)\n      setSelectedTimeZone(eventData?.timezone || timezone[0].text)\n    }\n  }, [editMode])\n\n  const profileImageSelectorRef = useRef()\n\n  const showFileExplorerForProfile = () =>\n    //@ts-ignore\n    profileImageSelectorRef?.current?.click()\n\n  const coverImageSelectorRef = useRef()\n\n  const showFileExplorerForCover = () =>\n    //@ts-ignore\n    coverImageSelectorRef?.current?.click()\n\n  const [profilePhoto, setProfilePhoto] = useState<any>()\n\n  const [coverPhoto, setCoverPhoto] = useState<any>()\n\n  const [selectedTimeZone, setSelectedTimeZone] = useState(timezone[0].text)\n\n  return (\n    <Modal\n      disablePadding\n      setOpen={setOpen}\n      header={`${editMode ? 'Edit' : 'Create'} event`}\n      open={open}\n    >\n      <div className=\" min-w-200 pb-4  max-w-200 min-h-164 max-h-164 overflow-y-auto\">\n        <div className=\"px-1\">\n          {/* HIDDEN IMAGE INPUT */}\n          <input\n            // @ts-ignore\n            ref={coverImageSelectorRef}\n            className=\"hidden\"\n            type=\"file\"\n            onChange={(e) => setCoverPhoto(e.target.files[0])}\n            accept=\"image/x-png,image/jpeg\"\n          />\n          {/* HIDDEN IMAGE INPUT */}\n          <input\n            // @ts-ignore\n            ref={profileImageSelectorRef}\n            className=\"hidden\"\n            type=\"file\"\n            onChange={(e) => setProfilePhoto(e.target.files[0])}\n            accept=\"image/x-png,image/jpeg\"\n          />\n\n          <Formik\n            initialValues={initialValues}\n            enableReinitialize={editMode}\n            innerRef={formRef}\n            validationSchema={validationSchema}\n            onSubmit={onSubmit}\n          >\n            <Form className=\"space-y-6 \">\n              <div className=\" overflow-hidden  bg-white dark:bg-gray-900\">\n                <div className=\"relative  group\">\n                  <div className=\"absolute top-0 right-0 p-4\">\n                    <AiOutlineEdit className=\"bg-gray-100   transition-all hover:bg-gray-300 duration-300 rounded-full p-2 text-gray-700 h-8 w-8\" />\n                  </div>\n                  <img\n                    alt=\"\"\n                    onClick={() => showFileExplorerForCover()}\n                    src={\n                      coverPhoto\n                        ? typeof coverPhoto === 'string'\n                          ? coverPhoto\n                          : URL.createObjectURL(coverPhoto)\n                        : placeholder\n                    }\n                    className=\"w-full lg:h-36 sm:h-24 object-cover h-20\"\n                  />\n                </div>\n                <div className=\"flex  relative justify-start mr-8 ml-8 -mt-12\">\n                  <img\n                    onClick={() => showFileExplorerForProfile()}\n                    alt=\"\"\n                    src={\n                      profilePhoto\n                        ? typeof profilePhoto === 'string'\n                          ? profilePhoto\n                          : URL.createObjectURL(profilePhoto)\n                        : avatarPlaceholder\n                    }\n                    className=\" border-solid  lg:h-24 lg:w-24 h-16 w-16  border-white border-2 -mt-3\"\n                  />\n                </div>\n              </div>\n              <div className=\"px-8 space-y-4\">\n                <h3 className=\"dark:text-white text-gray-900 font-semibold \">\n                  Details\n                </h3>\n                <FormInput\n                  label=\"Event Name\"\n                  id=\"eventName\"\n                  name=\"eventName\"\n                  required\n                />\n\n                <FormSelector\n                  label=\"Timezone\"\n                  required\n                  name=\"timezone\"\n                  selectedItem={selectedTimeZone}\n                  list={timezone.map((t) => ({ name: t.text, id: t.value }))}\n                  placeholder=\"What is the purpose of this group?\"\n                />\n\n                <div className=\"flex items-center justify-between w-full gap-x-2\">\n                  <div className=\"grid grid-cols-2 \">\n                    <div className=\"mx-2\">\n                      <FormInput\n                        name=\"startDate\"\n                        label=\"Start date\"\n                        type=\"date\"\n                      />\n                    </div>\n                    <div className=\"mx-2\">\n                      <FormInput\n                        name=\"startTime\"\n                        label=\"Start time\"\n                        required\n                        type=\"time\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"grid grid-cols-2 \">\n                    <div className=\"mx-2\">\n                      <FormInput name=\"endDate\" label=\"End date\" type=\"date\" />\n                    </div>\n                    <div className=\"mx-2\">\n                      <FormInput\n                        name=\"endTime\"\n                        required\n                        label=\"End time\"\n                        type=\"time\"\n                      />\n                    </div>\n                  </div>\n                </div>\n\n                <FormInput\n                  label=\"Description\"\n                  required\n                  id=\"eventDescription\"\n                  name=\"eventDescription\"\n                  placeholder=\"Ex. Topics, schedule, etc.\"\n                  textarea\n                  rows={2}\n                  cols={255}\n                />\n              </div>\n\n              {isError && (\n                <div className=\"px-8\">\n                  <Error errors={[error.toString()]} />\n                </div>\n              )}\n              <div className=\"flex p-4 items-center justify-end\">\n                <Button\n                  rounded=\"rounded-full\"\n                  loading={upload.isLoading || isLoading}\n                  disabled={upload.isLoading || isLoading}\n                  gradient\n                  size=\"lg\"\n                  type=\"submit\"\n                  label=\"Submit\"\n                />\n              </div>\n            </Form>\n          </Formik>\n        </div>\n      </div>\n    </Modal>\n  )\n}\n\nexport default CreateEvent\n","import Button from 'components/atoms/Button'\nimport Card from 'components/atoms/Card'\nimport CreateEvent from 'components/event/CreateEvent'\nimport { IPost } from 'interfaces/UniversalInterface'\nimport PostModal from 'pages/dashboard/PostModal'\nimport PostPhotoModal from 'pages/dashboard/PostPhotoModal'\nimport React, { useState } from 'react'\nimport { BiCalendarEvent } from 'react-icons/bi'\nimport { BsCameraVideo } from 'react-icons/bs'\nimport { HiOutlinePhotograph } from 'react-icons/hi'\nimport { RiArticleLine } from 'react-icons/ri'\nimport { avatarPlaceholder } from 'state/Redux/constants'\n\nconst PostInput = ({\n  profilePicture,\n  customButtons = null,\n  placeholder = 'Start a post',\n  disabled,\n  postingIn = 'general',\n  customInId,\n  fullName = '',\n}: {\n  profilePicture?: string\n  customButtons?: React.ReactNode\n  placeholder?: string\n  disabled?: boolean\n  postingIn?: IPost['postedIn']\n  fullName: string\n  customInId?: string\n}) => {\n  const [showPostModal, setShowPostModal] = useState(false)\n  const [showOtherModals, setShowOtherModals] = useState('init')\n  const [showEventModal, setShowEventModal] = useState(false)\n\n  const defaultButtons = (\n    <>\n      <Button\n        gradient\n        invert\n        // className=\"dark:border-gray-600\"\n        Icon={HiOutlinePhotograph}\n        label=\"Photo\"\n        onClick={() => setShowOtherModals('photo')}\n      />\n      <Button\n        gradient\n        Icon={BsCameraVideo}\n        // className=\"dark:border-gray-600\"\n        bgColor=\"blue\"\n        invert\n        onClick={() => setShowOtherModals('video')}\n        label=\"Video\"\n      />\n      <Button\n        gradient\n        Icon={BiCalendarEvent}\n        // className=\"dark:border-gray-600\"\n        invert\n        bgColor=\"blue\"\n        onClick={() => setShowEventModal(true)}\n        label=\"Event\"\n      />\n      <Button\n        gradient\n        Icon={RiArticleLine}\n        invert\n        // className=\"dark:border-gray-600\"\n        bgColor=\"blue\"\n        label=\"Write articles\"\n      />\n    </>\n  )\n\n  return (\n    <>\n      {!disabled && (\n        <PostModal\n          customInId={customInId}\n          postingIn={postingIn}\n          setShowOtherModals={setShowOtherModals}\n          open={showPostModal}\n          setOpen={setShowPostModal}\n        />\n      )}\n      {(showOtherModals === 'photo' || showOtherModals === 'video') && (\n        <PostPhotoModal\n          isPhoto={showOtherModals === 'photo'}\n          open\n          setOpen={() => setShowOtherModals('init')}\n        />\n      )}\n      <CreateEvent\n        fullName={fullName}\n        open={showEventModal}\n        setOpen={setShowEventModal}\n      />\n      <Card\n        content={\n          <div className=\"flex flex-col space-y-8\">\n            <div className=\"flex w-full\">\n              <img\n                src={profilePicture ? profilePicture : avatarPlaceholder}\n                alt=\"13RMS\"\n                className=\"sm:h-14 h-12 w-12 sm:w-14  border-gradient border-transparent border-2 rounded-full\"\n              />\n              <div\n                onClick={() => setShowPostModal(true)}\n                className=\"cursor-pointer sm:h-14 h-12  transition-all duration-300 hover:bg-gray-200 dark:hover:bg-gray-700 ml-4 w-full rounded-full bg-white flex items-center text-gray-500 dark:text-gray-400 justify-start px-4 text-left dark:bg-gray-800 border border-gray-400 dark:border-gray-700\"\n              >\n                {placeholder}\n              </div>\n            </div>\n            <div className=\"flex items-center justify-between\">\n              {customButtons || defaultButtons}\n            </div>\n          </div>\n        }\n      />\n    </>\n  )\n}\n\nexport default PostInput\n","export default __webpack_public_path__ + \"static/media/no-posts.25d46d19.svg\";","import Modal from 'components/atoms/Modal'\nimport { links } from 'constants/Links'\nimport useAccountType from 'hooks/useAccountType'\nimport { IParent, IShortProfile } from 'interfaces/UniversalInterface'\nimport React from 'react'\nimport { avatarPlaceholder } from 'state/Redux/constants'\n\nconst UsersListModal = ({\n  open,\n  setOpen,\n  title,\n  userList,\n}: {\n  open: boolean\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>\n  title: string\n  userList: IShortProfile[]\n}) => {\n  const { getType } = useAccountType()\n\n  const onUserClick = (user: IShortProfile) => {\n    window.open(links.getProfile(user), '_blank')\n  }\n  return (\n    <Modal header={title} open={open} setOpen={setOpen}>\n      {userList.map((user: IParent) => {\n        const { isBusiness, isPersonal } = getType(user)\n\n        return (\n          <div\n            key={user._id}\n            className={`p-2 py-4 relative cursor-pointer border-b border-gray-200 dark:border-gray-700 dark:hover:bg-gray-800 hover:bg-gray-100 transition-all`}\n            onClick={() => onUserClick(user)}\n          >\n            <div className=\"flex  cursor-pointer items-center \">\n              <img\n                src={user.profilePicture || avatarPlaceholder}\n                alt=\"\"\n                className=\"rounded-full  border-gradient border-transparent mr-2 h-12 w-12\"\n              />\n              <div>\n                <h4 className=\"dark:text-white text-gray-900\">\n                  {user.fullName}\n                </h4>\n                <p className=\"dark:text-gray-500 text-gray-600 text-sm\">\n                  {isBusiness\n                    ? user?.business?.name\n                    : isPersonal\n                    ? user?.company?.companyName\n                    : user?.background?.education &&\n                      user?.background?.education[0].name}\n                </p>\n              </div>\n            </div>\n          </div>\n        )\n      })}\n    </Modal>\n  )\n}\n\nexport default UsersListModal\n","import { XIcon } from '@heroicons/react/solid'\nimport { sendEventInvite } from 'apis/mutations'\nimport { fetchUsers } from 'apis/queries'\nimport Error from 'components/alerts/Error'\nimport Button from 'components/atoms/Button'\nimport Modal from 'components/atoms/Modal'\nimport Spinner from 'components/Spinner'\nimport useAccountType from 'hooks/useAccountType'\nimport { IEvent, IParent } from 'interfaces/UniversalInterface'\nimport { findIndex, remove } from 'lodash'\nimport React, { useEffect, useState } from 'react'\nimport { useMutation, useQuery } from 'react-query'\nimport { avatarPlaceholder } from 'state/Redux/constants'\n\nconst EventInviteModal = ({\n  open,\n  setOpen,\n  followingList,\n  event,\n  refetchGroup,\n}: {\n  open: boolean\n  event: IEvent\n  followingList: string[]\n  refetchGroup: any\n  setOpen: React.Dispatch<React.SetStateAction<boolean>>\n}) => {\n  const [selectedUsers, setSelectedUsers] = useState<IParent[]>([])\n\n  const config = {\n    users: followingList,\n  }\n  const { data, isFetched, isLoading, isSuccess } = useQuery(`user-list`, () =>\n    fetchUsers(config)\n  )\n\n  const {\n    mutate,\n    isLoading: sendingInvites,\n    error: errorSendingInvites,\n  } = useMutation(sendEventInvite, {\n    onSuccess: () => {\n      setOpen(false)\n      unselectAll()\n      refetchGroup()\n    },\n  })\n\n  const onUserClick = (user: IParent) => {\n    const selectedIdx = findIndex(selectedUsers, ['_id', user._id])\n    if (selectedIdx !== -1) {\n      // selected\n      remove(selectedUsers, ['_id', user._id])\n    } else {\n      selectedUsers.unshift(user)\n\n      // not selected\n    }\n    setSelectedUsers([...selectedUsers])\n  }\n\n  const unselectAll = () => {\n    setSelectedUsers([])\n  }\n\n  const unselect = (userId: string) => {\n    remove(selectedUsers, ['_id', userId])\n    setSelectedUsers([...selectedUsers])\n  }\n\n  const users: IParent[] =\n    !isLoading && isFetched && isSuccess ? data.data.data.users : []\n\n  const [localUsers, setLocalUsers] = useState<IParent[]>([])\n  useEffect(() => {\n    if (users && users.length > 0) {\n      setLocalUsers([...users])\n    }\n  }, [users])\n\n  const { getType } = useAccountType()\n\n  const onSendInvite = () => {\n    const targetIdArray = selectedUsers.map((user) => user._id)\n    mutate({ targetIdArray, eventId: event._id })\n  }\n\n  const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value.toLowerCase()\n    let searchedList = users.filter((user) => {\n      return (\n        user.firstName.toLowerCase().includes(value) ||\n        user.lastName.toLowerCase().includes(value) ||\n        user.fullName.toLowerCase().includes(value)\n      )\n    })\n    setLocalUsers([...searchedList])\n  }\n\n  return (\n    <Modal\n      fixedBottom={\n        <div>\n          {!isLoading && isFetched && (\n            <div className=\"flex items-center justify-end  p-4\">\n              <Button\n                label={`Invite ${\n                  selectedUsers.length > 0 ? selectedUsers.length : ''\n                }`}\n                size=\"lg\"\n                loading={sendingInvites}\n                loadingText=\"Sending invites\"\n                onClick={() => onSendInvite()}\n                disabled={selectedUsers.length <= 0}\n                gradient\n                rounded=\"rounded-full\"\n              />\n            </div>\n          )}\n        </div>\n      }\n      header=\"Invite connections\"\n      open={open}\n      setOpen={setOpen}\n    >\n      <div className=\"lg:min-w-160 min-w-132 max-w-256\">\n        {!isLoading && isFetched ? (\n          <div>\n            <div className=\"w-full\">\n              <input\n                type=\"search\"\n                placeholder=\"Search by name\"\n                className=\"w-full py-2 px-4 outline-none border-none focus:ring-1 text-gray-600 dark:text-gray-400 text-sm focus:ring-yellow-500 bg-transparent h-full\"\n                onChange={onChange}\n              />\n            </div>\n            <div className=\"grid grid-cols-5 p-2 border-t border-gray-200 dark:border-gray-800\">\n              <div className=\"col-span-3 min-h-136 pb-12  max-h-136 flex flex-col  overflow-y-scroll overflow-x-hidden \">\n                {localUsers.map((user: IParent) => {\n                  const { isBusiness, isPersonal } = getType(user)\n                  const alreadyAttendee = !!event?.attendees?.find(\n                    (ev) => ev._id === user._id\n                  )\n                  const inviteSent = !!event?.invites?.find(\n                    (ev) => ev === user._id\n                  )\n\n                  return (\n                    <div\n                      key={user._id}\n                      className={`p-2 py-4 relative cursor-pointer border-b border-gray-200 dark:border-gray-700 ${\n                        alreadyAttendee || inviteSent\n                          ? 'dark:bg-gray-800 opacity-75 bg-gray-100 pointer-events-none'\n                          : 'dark:hover:bg-gray-800 hover:bg-gray-100'\n                      }  transition-all`}\n                      onClick={() => onUserClick(user)}\n                    >\n                      <div className=\"flex  cursor-pointer items-center \">\n                        <input\n                          id=\"users\"\n                          // onChange={(e) => onUserClick(user)}\n                          name=\"candidates\"\n                          checked={Boolean(\n                            selectedUsers.find((d) => d._id === user._id)\n                          )}\n                          type=\"checkbox\"\n                          className=\"focus:ring-yellow-500 mr-4 h-5 w-5 text-yellow-600 border-gray-300 rounded\"\n                        />\n                        <img\n                          src={user.profilePicture || avatarPlaceholder}\n                          alt=\"\"\n                          className=\"border-gradient border-transparent border-2 rounded-full mr-2 h-12 w-12\"\n                        />\n                        <div>\n                          <h4 className=\"dark:text-white text-gray-900\">\n                            {user.fullName}\n                          </h4>\n                          <p className=\"dark:text-gray-500 text-gray-600 text-sm\">\n                            {isBusiness\n                              ? user?.business?.name\n                              : isPersonal\n                              ? user?.company?.companyName\n                              : user?.background?.education &&\n                                user?.background?.education[0].name}\n                          </p>\n                        </div>\n                      </div>\n                      {(alreadyAttendee || inviteSent) && (\n                        <p className=\"absolute text-xs italic dark:text-gray-500 text-gray-400 bottom-1 right-2 \">\n                          {alreadyAttendee ? 'Already member' : 'Request sent'}\n                        </p>\n                      )}\n                    </div>\n                  )\n                })}\n              </div>\n              <div className=\"col-span-2 ml-2\">\n                <div className=\"border-b text-sm border-gray-200 dark:border-gray-800  text-gray-500 dark:text-gray-400 p-4 flex items-center justify-between\">\n                  <p>{selectedUsers.length} selected</p>\n                  <button\n                    onClick={unselectAll}\n                    className=\"font-medium dark:text-gray-300\"\n                  >\n                    Unselect all\n                  </button>\n                </div>\n                <div className=\"p-4 pr-0 flex flex-col gap-y-4 max-w-56 min-w-56  max-h-136 pb-20 overflow-y-scroll mx-2\">\n                  {selectedUsers &&\n                    selectedUsers.length > 0 &&\n                    selectedUsers.map((user: IParent) => (\n                      <div className=\"flex  items-center  justify-between\">\n                        <div className=\"flex items-center\">\n                          <img\n                            src={user.profilePicture || avatarPlaceholder}\n                            alt=\"\"\n                            className=\"border-gradient border-transparent border-2 rounded-full mr-2 h-8 w-8\"\n                          />\n                          <h4 className=\"dark:text-white\">{user.fullName}</h4>\n                        </div>\n                        <div\n                          onClick={() => unselect(user._id)}\n                          className=\"dark:hover:bg-gray-700 transition-all rounded-full p-0.5\"\n                        >\n                          <XIcon\n                            className=\"cursor-pointer h-5 w-5   dark:text-gray-400\"\n                            aria-hidden=\"true\"\n                          />\n                        </div>\n                      </div>\n                    ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        ) : (\n          <div className=\"flex items-center justify-center\">\n            <Spinner />\n          </div>\n        )}\n        <div>\n          {errorSendingInvites && (\n            <Error errors={[errorSendingInvites.toString()]} />\n          )}\n        </div>\n      </div>\n    </Modal>\n  )\n}\n\nexport default EventInviteModal\n","import { deleteEvent } from 'apis/mutations'\nimport { fetchMultiplePostsById, fetchSingleEvent } from 'apis/queries'\nimport NoPosts from 'assets/svg/no-posts.svg'\nimport Button from 'components/atoms/Button'\nimport Card from 'components/atoms/Card'\nimport Meta from 'components/atoms/Meta/Meta'\nimport Dropdown from 'components/Dropdown/Dropdown'\nimport CreateEvent from 'components/event/CreateEvent'\nimport Loading from 'components/Loading'\nimport Post from 'components/posts/Post'\nimport Spinner from 'components/Spinner'\nimport UsersListModal from 'components/UserListModal'\nimport { links } from 'constants/Links'\nimport { IEvent, IParent, IPost } from 'interfaces/UniversalInterface'\nimport moment from 'moment'\nimport PostInput from 'pages/dashboard/PostInput'\nimport PostPhotoModal from 'pages/dashboard/PostPhotoModal'\nimport DashboardHeader from 'pages/DashboardHeader'\nimport DashboardLayout from 'pages/DashboardLayout'\nimport EventInviteModal from 'pages/event/EventInviteModal'\nimport { useEffect, useState } from 'react'\nimport { AiFillCalendar } from 'react-icons/ai'\nimport { BsCameraVideo, BsFillCameraVideoFill } from 'react-icons/bs'\nimport { CgPoll } from 'react-icons/cg'\nimport { HiOutlinePhotograph } from 'react-icons/hi'\nimport InfiniteScroll from 'react-infinite-scroll-component'\nimport { useMutation, useQuery } from 'react-query'\nimport { useHistory, useParams } from 'react-router'\nimport { avatarPlaceholder } from 'state/Redux/constants'\n\nconst getAMPM = (time: string = '00:00'): string => {\n  let f = time.split(':')[0]\n  let n: number = Number(f)\n  return n > 12 ? 'PM' : 'AM'\n}\n\nconst SingleEventView = ({ userData }: { userData: IParent }) => {\n  const params: any = useParams()\n  const eventId = params.eventId\n\n  const { data, isLoading, isFetched, refetch } = useQuery('event-data', () =>\n    fetchSingleEvent(eventId)\n  )\n\n  const eventData: IEvent = isFetched && !isLoading ? data?.data?.data : []\n  const _deleteEvent = useMutation(deleteEvent)\n\n  const [showModal, setShowModal] = useState(false)\n\n  const [showAttendeesModal, setShowAttendeesModal] = useState(false)\n\n  const history = useHistory()\n  useEffect(() => {\n    if (_deleteEvent.isSuccess) {\n      history.push(links.FEED)\n    }\n  }, [_deleteEvent.isSuccess])\n\n  const [showEditEventModal, setShowEditEventModal] = useState(false)\n\n  const fetchPost = useQuery(\n    'event-posts',\n    () => fetchMultiplePostsById(eventData?.posts as string[]),\n    { enabled: !!eventData?.posts?.length && !(isLoading && !isFetched) }\n  )\n\n  const dropdownList = [\n    {\n      id: '1',\n      name: `Edit event`,\n      onClick: () => {\n        setShowEditEventModal(true)\n      },\n    },\n    {\n      id: '2',\n      name: `Manage attendees`,\n      onClick: () => {},\n    },\n    {\n      id: '3',\n      name: `Cancel event`,\n      onClick: () => {},\n    },\n    {\n      id: '4',\n      name: `Delete event`,\n      onClick: () => {\n        _deleteEvent.mutate(eventId)\n      },\n    },\n  ]\n\n  const [showOtherModals, setShowOtherModals] = useState('init')\n\n  if (isLoading && !isFetched) {\n    return <Loading />\n  }\n\n  if (!eventData) {\n    return <p>Looks like event is removed by organizer</p>\n  }\n\n  const authorized = userData?._id === eventData?.eventBy?._id\n\n  const posts = (fetchPost.data?.data?.data.posts as IPost[]) || []\n\n  const postCount = fetchPost.data?.data?.data.count || 0\n\n  const fetchMoreData = () => {}\n  return (\n    <div className=\"relative  dark:bg-gray-900 bg-gray-100 min-h-screen \">\n      <DashboardHeader userData={userData} />\n      <Meta\n        pageTitle={`${eventData?.eventName} | event | 13RMS`}\n        imageUrl={eventData?.profilePicture}\n        title={eventData?.eventName}\n        description={eventData?.eventDescription}\n      />\n\n      {showEditEventModal && eventData && (\n        <CreateEvent\n          fullName={userData.fullName}\n          open={showEditEventModal}\n          eventData={eventData}\n          setOpen={setShowEditEventModal}\n        />\n      )}\n\n      {(showOtherModals === 'photo' || showOtherModals === 'video') && (\n        <PostPhotoModal\n          isPhoto={showOtherModals === 'photo'}\n          open\n          postingIn={'event'}\n          customInId={eventData._id}\n          setOpen={() => setShowOtherModals('init')}\n        />\n      )}\n\n      <UsersListModal\n        title={`All attendees (${eventData?.attendees?.length})`}\n        userList={eventData?.attendees}\n        open={showAttendeesModal}\n        setOpen={setShowAttendeesModal}\n      />\n\n      {authorized && (\n        <EventInviteModal\n          refetchGroup={refetch}\n          event={eventData}\n          followingList={userData?.following}\n          open={showModal}\n          setOpen={setShowModal}\n        />\n      )}\n      <div\n        className={`h-auto pt-4 relative flow-root  transition-all duration-500 `}\n      >\n        <DashboardLayout\n          secondCol={\n            <div className=\"\">\n              {isLoading && !isFetched ? (\n                <Spinner />\n              ) : (\n                <div className=\"flex gap-y-12 flex-col\">\n                  <div className=\"rounded-lg border dark:border-gray-700  border-gray-200 overflow-hidden  bg-white dark:bg-gray-800\">\n                    <img\n                      alt=\"\"\n                      src={\n                        eventData?.coverPicture ||\n                        'https://source.unsplash.com/1600x900/?nature,water'\n                      }\n                      className=\"w-full lg:h-44 sm:h-38 object-cover h-20\"\n                    />\n                    <div className=\"flex justify-start mx-8 -mt-5\">\n                      <img\n                        alt=\"\"\n                        src={eventData?.profilePicture || avatarPlaceholder}\n                        className=\"border-gradient border-transparent border-4 border-solid lg:h-24 lg:w-24 h-32 w-32  border-white  -mt-3\"\n                      />\n                    </div>\n                    <div className=\"absolute right-5 \">\n                      <Dropdown list={dropdownList} />\n                    </div>\n                    <div className=\"text-left mx-8 mt-2 pb-6 pt-2\">\n                      <h3 className=\"dark:text-white text-gray-800 text-xl font-semibold \">\n                        {eventData?.eventName}\n                      </h3>\n                      {eventData?.eventBy?.profileUrl && (\n                        <h6 className=\"text-sm dark:text-gray-500 text-gray-700 mb-2\">\n                          Event by{' '}\n                          <a\n                            className=\"hover:underline\"\n                            href={links.getProfile(eventData?.eventBy)}\n                          >\n                            {eventData?.eventBy?.fullName}\n                          </a>\n                        </h6>\n                      )}\n                      <div className=\"flex text-sm dark:text-gray-500 text-gray-600 items-center justify-start\">\n                        <BsFillCameraVideoFill className=\"mr-2\" />\n                        Online\n                      </div>\n                      <div className=\"flex dark:text-gray-500 font-normal mt-1 text-sm text-gray-600 items-center justify-start\">\n                        <AiFillCalendar className=\"mr-2\" />\n                        {moment(eventData?.startDate).format(\n                          'ddd, MMM Do,'\n                        )}{' '}\n                        {eventData?.startTime}{' '}\n                        {getAMPM(eventData?.startTime?.toString())} -{' '}\n                        {moment(eventData?.endDate).format('llll')}{' '}\n                        {eventData?.endTime}{' '}\n                        {getAMPM(eventData?.endTime?.toString())} (your local\n                        time)\n                      </div>\n                      <div className=\"flex items-center mt-4 space-x-2\">\n                        <div className=\"flex flex-shrink-0 -space-x-1\">\n                          {eventData?.attendees?.slice(0, 4).map((attendee) => (\n                            <img\n                              key={attendee?._id}\n                              className=\"max-w-none border-gradient border-transparent border h-8 w-8 rounded-full ring-2 ring-white\"\n                              src={\n                                attendee?.profilePicture || avatarPlaceholder\n                              }\n                              alt={''}\n                            />\n                          ))}\n                        </div>\n                        {eventData?.attendees.length > 4 ? (\n                          <span className=\"flex-shrink-0 text-xs leading-5 font-medium\">\n                            +{eventData?.attendees?.length - 4}\n                          </span>\n                        ) : null}\n                        <button\n                          onClick={() =>\n                            setShowAttendeesModal(!showAttendeesModal)\n                          }\n                          className=\"hover:underline mx-4 text-sm dark:text-gray-300 text-gray-800 \"\n                        >\n                          {eventData?.attendees?.length} attendee\n                          {eventData?.attendees?.length > 1 ? 's' : ''}\n                        </button>\n                      </div>\n                      {authorized && (\n                        <div className=\"mt-4\">\n                          <Button\n                            label=\"Invite\"\n                            rounded=\"rounded-full\"\n                            gradient\n                            onClick={() => setShowModal(true)}\n                          />\n                        </div>\n                      )}\n                    </div>\n                  </div>\n\n                  <PostInput\n                    customInId={eventData?._id}\n                    fullName={userData.fullName}\n                    postingIn={'event'}\n                    placeholder=\"Start a post in this event\"\n                    customButtons={\n                      <>\n                        <Button\n                          gradient\n                          invert\n                          Icon={HiOutlinePhotograph}\n                          label=\"Photo\"\n                          onClick={() => setShowOtherModals('photo')}\n                        />\n                        <Button\n                          gradient\n                          Icon={BsCameraVideo}\n                          invert\n                          label=\"Video\"\n                          onClick={() => setShowOtherModals('video')}\n                        />\n                        <Button gradient Icon={CgPoll} invert label=\"Poll\" />\n                      </>\n                    }\n                    profilePicture={userData?.profilePicture}\n                  />\n\n                  {(fetchPost.isLoading || !fetchPost.isFetched) && <Spinner />}\n\n                  {!(fetchPost.isLoading || !fetchPost.isFetched) &&\n                  posts?.length > 0 ? (\n                    <InfiniteScroll\n                      endMessage={\n                        <div className=\"text-center\">\n                          <span className=\"dark:text-gray-600 text-center text-gray-400\">\n                            â€¢\n                          </span>\n                        </div>\n                      }\n                      dataLength={posts?.length}\n                      scrollableTarget=\"main_content\"\n                      next={fetchMoreData}\n                      hasMore={postCount > posts?.length}\n                      loader={<h4>Loading...</h4>}\n                    >\n                      <div className=\"grid grid-cols-1 gap-y-6\">\n                        {posts?.map((post) => (\n                          <Post\n                            key={post?._id}\n                            userData={userData}\n                            userId={userData._id}\n                            post={post}\n                          />\n                        ))}\n                      </div>\n                    </InfiniteScroll>\n                  ) : (\n                    <Card\n                      content={\n                        <div className=\"m-4 text-center flex items-center justify-center flex-col\">\n                          <img\n                            src={NoPosts}\n                            alt=\"\"\n                            className=\"h-28 sm:h-32 lg:h-36 xl:h-40 w-full\"\n                          />\n                          <h3 className=\"mt-4 text-xl font-medium dark:text-gray-300 text-gray-900\">\n                            Create the first post\n                          </h3>\n                          <p className=\"mt-1 text-base text-gray-500\">\n                            Get the conversation going. Be the first to post in\n                            this event!\n                          </p>\n                        </div>\n                      }\n                    />\n                  )}\n                </div>\n              )}\n            </div>\n          }\n          thirdColClass=\"xl:block hidden\"\n          thirdCol={\n            <div className=\"space-y-12 lg:max-w-84 max-w-full\">\n              <Card\n                cardTitle=\"About this event\"\n                content={\n                  <p className=\"text-gray-900 dark:text-gray-200 line-clamp \">\n                    {eventData.eventDescription}\n                  </p>\n                }\n              />\n            </div>\n          }\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default SingleEventView\n"],"sourceRoot":""}