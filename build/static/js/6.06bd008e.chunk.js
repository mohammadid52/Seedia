(this.webpackJsonp13rms=this.webpackJsonp13rms||[]).push([[6],{544:function(e,t,o){"use strict";o.r(t);var a=o(10),n=o.n(a),r=o(3),c=o(19),i=o(6),s=o(65),u=o(11),l=o(56),d=o(78),p=o(85),b=o(15),j=o(54),h=o(32),O=o(45),m=o(12),y=o(131),v=o(1),f=o(26),x=o(30),g=o(2);t.default=function(e){var t=e.user,o=Object(v.useState)(!0),a=Object(i.a)(o,1)[0],T=Object(f.g)();console.log("I am on company page");Object(v.useEffect)((function(){!function(){if(t){var e,o,a,n,r,c;if(null===t||void 0===t||null===(e=t.other)||void 0===e?void 0:e.accountFilled)return console.log("redirect to dashboard"),T.push(b.a.DASHBAORD);if("location"===(null===(o=t.other)||void 0===o?void 0:o.accountFinishedStep))return console.log("redirect to choose template page"),T.push(b.a.CHOOSE_TEMPLATE);if("company"===(null===(a=t.other)||void 0===a?void 0:a.accountFinishedStep))return console.log("redirect to location page"),T.push(b.a.LOCATION_P);if("chooseAccount"===(null===(n=t.other)||void 0===n?void 0:n.accountFinishedStep))return console.log("get the accountType and redirect as per account type"),T.push(Object(m.e)(null===(c=t.other)||void 0===c?void 0:c.accountType));if("signup"===(null===(r=t.other)||void 0===r?void 0:r.accountFinishedStep))console.log("redirect to choose Account page"),T.push(b.a.CHOOSE_ACCOUNT)}}()}),[]);var C=Object(h.b)().setValues,S=function(){var e=Object(c.a)(n.a.mark((function e(o){var a,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),e.prev=1,a=Object(m.a)(),c=Object(r.a)(Object(r.a)({},t),{},{company:Object(r.a)(Object(r.a)({},null===t||void 0===t?void 0:t.company),{},{jobTitle:o.jobTitle,jobType:o.jobType,currentCompany:o.currentCompany,companyName:o.currentCompany}),other:Object(r.a)(Object(r.a)({},null===t||void 0===t?void 0:t.other),{},{accountFinishedStep:"company"})}),e.next=6,m.d.post("/user/update",Object(r.a)({},c),{headers:{Authorization:a}});case 6:delete c.password,C(Object(r.a)({},c)),T.push(b.a.LOCATION_P),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:return e.prev=14,q(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),w=x.a({jobTitle:x.c().required("Please add your job title"),jobType:x.c().required("Please add your job type"),currentCompany:x.c().required("Please add your current company name")}),A=Object(v.useState)(!1),N=Object(i.a)(A,2),k=N[0],q=N[1];return a?Object(g.jsx)(j.a,{title:"Company Information",withButton:Object(g.jsx)(d.a,{text:"or create a student account",onClick:function(){return T.push(b.a.EDUCATION)}}),subtitle:Object(g.jsxs)("p",{children:["Your profile helps you find new people and ",Object(g.jsx)("br",{})," oppurtunites"]}),children:Object(g.jsx)(s.a,{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:Object(g.jsx)("div",{className:"bg-white dark:bg-gray-800 border border-transparent dark:border-gray-700  py-8 px-4 shadow-md sm:rounded-lg sm:px-6",children:Object(g.jsx)(O.c,{initialValues:y.d,validationSchema:w,onSubmit:S,enableReinitialize:!0,children:Object(g.jsxs)(O.b,{className:"space-y-6",children:[Object(g.jsx)(l.a,{label:"Most recent job title",id:"jobTitle",name:"jobTitle",required:!0}),Object(g.jsx)(l.a,{label:"Job Type",id:"jobType",name:"jobType",required:!0}),Object(g.jsx)(l.a,{label:"Current Company",id:"currentCompany",name:"currentCompany",required:!0}),Object(g.jsx)("div",{children:Object(g.jsx)(u.a,{type:"submit",fullWidth:!0,rounded:"rounded-lg",gradient:!0,loading:k,label:"Next Step"})})]})})})})}):Object(g.jsx)(p.a,{})}}}]);
//# sourceMappingURL=6.06bd008e.chunk.js.map