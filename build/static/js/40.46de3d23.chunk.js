(this.webpackJsonp13rms=this.webpackJsonp13rms||[]).push([[40],{424:function(e,t,r){"use strict";var a=r(60),n=r(2);t.a=function(e){var t=e.show,r=e.error;return Object(n.jsx)(a.a,{show:t,enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",className:"mt-2",children:Object(n.jsx)("p",{className:"transition-all duration-200 text-sm text-red-600 dark:text-red-500",children:r})})}},425:function(e,t,r){"use strict";var a=r(21),n=r(153),o=r(60),i=r(52),s=r(424),c=r(421),l=r(1),d=r(46),u=r(2),f=["label","id","name","type","placeholder","error","value","gridClass","required","showPasswordButton","optional","hideBorders","textarea","setUnsavedChanges","withButton","disabled","rows","textClass","cols","info"];t.a=function(e){var t=e.label,r=e.id,h=e.name,v=void 0===h?"":h,m=e.type,b=void 0===m?"text":m,j=e.placeholder,x=e.error,p=(e.value,e.gridClass),y=e.required,g=e.showPasswordButton,O=void 0!==g&&g,w=e.optional,N=void 0!==w&&w,k=e.hideBorders,S=void 0!==k&&k,I=e.textarea,C=void 0!==I&&I,M=e.setUnsavedChanges,T=void 0===M?function(){}:M,H=e.withButton,A=e.disabled,z=e.rows,_=e.textClass,B=void 0===_?"sm:text-sm":_,q=e.cols,E=(e.info,Object(n.a)(e,f),"border-red-300 text-red-900 placeholder-red-300 focus:outline-none focus:ring-red-500 focus:border-red-500"),F=Object(l.useState)(!1),L=Object(a.a)(F,2),P=L[0],R=L[1],U=Object(c.c)(v),D=Object(a.a)(U,3),W=D[0],V=D[1],J=D[2].setValue,G=function(e){T(!0),J(e.target.value)};return Object(u.jsxs)("div",{className:p,children:[Object(u.jsxs)("div",{className:"flex justify-between",children:[Object(u.jsxs)("label",{htmlFor:v,className:"block dark:text-white text-sm font-medium text-gray-700",children:[t," ",y&&Object(u.jsx)("span",{className:"text-red-500 dark:text-red-400 font-medium text-base",children:"*"})]}),N&&Object(u.jsx)("span",{className:"text-sm text-gray-500",id:"email-optional",children:"Optional"})]}),C?Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[Object(u.jsx)("textarea",{rows:z,cols:q,autoFocus:!0,id:r,placeholder:j,onChange:G,className:"block border w-full pr-10 ".concat(x?E:""," ").concat(B," p-2 ").concat(S?"border-transparent":"dark:border-gray-700 border-gray-300"," rounded-md dark:bg-gray-900 transition-all  dark:text-white")}),Object(u.jsx)("div",{className:"flex items-center absolute transition-all duration-200 top-0 right-0 p-3 ",children:V.touched&&V.error&&Object(u.jsx)("div",{className:" pointer-events-none",children:Object(u.jsx)(i.d,{className:"h-5 w-5 text-red-500 dark:text-red-400","aria-hidden":"true"})})})]}),Object(u.jsx)(s.a,{show:Boolean(V.touched&&V.error),error:V.error})]}):Object(u.jsxs)("div",{children:[Object(u.jsxs)("div",{className:"mt-1 relative rounded-md shadow-sm",children:[Object(u.jsx)("input",{disabled:A,id:r,autoFocus:!0,onChange:G,placeholder:j,type:O?P?"text":"password":b,className:"block border w-full pr-10 ".concat(x?E:""," sm:text-sm p-2 ").concat(S?"border-transparent ":"dark:border-gray-700 border-gray-300"," rounded-md dark:bg-gray-900 dark:text-white")}),Object(u.jsxs)("div",{className:"flex items-center absolute transition-all duration-200 inset-y-0 right-0 pr-3 ",children:[V.touched&&V.error&&Object(u.jsx)("div",{className:" pointer-events-none",children:Object(u.jsx)(i.d,{className:"h-5 w-5 text-red-500 dark:text-red-400","aria-hidden":"true"})}),O&&W.value&&Object(u.jsx)("div",{className:"ml-2",onClick:function(){return R(!P)},children:P?Object(u.jsx)(d.k,{className:"h-5 w-5 text-gray-400 cursor-pointer hover:text-gray-500","aria-hidden":"true"}):Object(u.jsx)(d.j,{className:"h-5 w-5 text-gray-400 cursor-pointer hover:text-gray-500","aria-hidden":"true"})})]})]}),Object(u.jsxs)("div",{className:"flex mt-2 items-center justify-between",children:[Object(u.jsx)(o.a,{show:Boolean(V.touched&&V.error),enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:Object(u.jsx)("p",{className:"transition-all duration-200 text-sm text-red-600 dark:text-red-500",id:"".concat(v||r,"-error"),children:V.error})}),!Boolean(V.touched&&V.error)&&Object(u.jsx)("div",{}),H&&!Boolean(V.touched&&V.error)&&W.value.length>3?H:Object(u.jsx)("div",{className:""})]})]})]})}},435:function(e,t,r){"use strict";var a=r(52),n=r(33),o=r(2);t.a=function(e){var t=e.errors;return Object(o.jsx)("div",{className:"rounded-md bg-red-50 dark:bg-gray-900 border dark:border-gray-700 border-transparent p-4",children:Object(o.jsxs)("div",{className:"flex",children:[Object(o.jsx)("div",{className:"flex-shrink-0",children:Object(o.jsx)(a.j,{className:"h-5 w-5 dark:text-red-300 text-red-400","aria-hidden":"true"})}),Object(o.jsxs)("div",{className:"ml-3",children:[Object(o.jsxs)("h3",{className:"text-sm font-medium text-red-800 dark:text-red-500",children:["There were ",t.length," errors with your submission"]}),Object(o.jsx)("div",{className:"mt-2 text-sm text-red-700 dark:text-red-400",children:Object(o.jsx)("ul",{className:"list-disc pl-5 space-y-1",children:Object(n.map)(t,(function(e,t){return Object(o.jsx)("li",{children:e},t)}))})})]})]})})}},440:function(e,t,r){"use strict";r(1);var a=r(2);t.a=function(e){var t=e.className,r=e.children,n=e.size,o=void 0===n?"text-3xl":n,i=e.fontWeight,s=void 0===i?"font-semibld":i,c=e.textColor,l=void 0===c?"text-gray-900 dark:text-white":c,d=e.isLoading;return void 0!==d&&d?Object(a.jsx)("div",{className:"h-4 animate-pulse bg-gray-400 rounded ".concat(t," ").concat(o," ").concat(s," ").concat(l)}):Object(a.jsx)("h1",{className:"".concat(t," ").concat(o," ").concat(s," ").concat(l),children:r})}},537:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(c){n=!0,o=c}finally{try{!a&&s.return&&s.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=r(1),o=l(n),i=l(r(13)),s=l(r(563)),c=l(r(564));function l(e){return e&&e.__esModule?e:{default:e}}var d={overflow:"hidden",position:"relative"};function u(e,t){return"\n    .react-stars-"+t+":before {\n      position: absolute;\n      overflow: hidden;\n      display: block;\n      z-index: 1;\n      top: 0; left: 0;\n      width: 50%;\n      content: attr(data-forhalf);\n      color: "+e+";\n  }"}function f(e){var t=(0,n.useState)(""),r=a(t,2),i=r[0],l=r[1],f=(0,n.useState)(0),h=a(f,2),v=h[0],m=h[1],b=(0,n.useState)([]),j=a(b,2),x=j[0],p=j[1],y=(0,n.useState)(!1),g=a(y,2),O=g[0],w=g[1],N=(0,s.default)(e),k=a(N,2),S=k[0],I=k[1],C=(0,n.useState)(0),M=a(C,2),T=M[0],H=M[1],A=(0,n.useState)(!1),z=a(A,2),_=z[0],B=z[1],q=(0,n.useState)(""),E=a(q,2),F=E[0],L=E[1];function P(e){"undefined"===typeof e&&(e=S.isHalf?Math.floor(v):Math.round(v));for(var t=[],r=0;r<S.count;r++)t.push({active:r<=e-1});return t}function R(e){if(S.edit){var t=Number(e.currentTarget.getAttribute("data-index"));if(S.isHalf){var r=U(e);B(r),r&&(t+=1),H(t)}else t+=1;!function(e){var t=x.filter((function(e){return e.active}));e!==t.length&&p(P(e))}(t)}}function U(e){var t=e.target.getBoundingClientRect(),r=e.clientX-t.left;return(r=Math.round(Math.abs(r)))>t.width/2}function D(){S.edit&&(W(v),p(P()))}function W(e){S.isHalf&&(B(function(e){return e%1===0}(e)),H(Math.floor(e)))}function V(e){if(S.edit){var t=Number(e.currentTarget.getAttribute("data-index")),r=void 0;if(S.isHalf){var a=U(e);B(a),a&&(t+=1),r=a?t:t+.5,H(t)}else r=t+=1;J(r)}}function J(t){t!==v&&(p(P(t)),m(t),e.onChange(t))}return(0,n.useEffect)((function(){var t,r;!function(){var t="react-stars";L(e.classNames+" "+t)}(),t=e.value,r=e.count,m(t<0||t>r?0:t),p(P(e.value)),I(e),l((Math.random()+"").replace(".","")),w(function(e){return!e.isHalf&&e.emptyIcon&&e.filledIcon||e.isHalf&&e.emptyIcon&&e.halfIcon&&e.filledIcon}(e)),H(Math.floor(e.value)),B(e.isHalf&&e.value%1<.5)}),[]),o.default.createElement("div",{className:"react-stars-wrapper-"+i,style:{display:"flex"}},o.default.createElement("div",{tabIndex:S.a11y&&S.edit?0:null,"aria-label":"add rating by typing an integer from 0 to 5 or pressing arrow keys",onKeyDown:function(e){if(S.a11y||S.edit){var t=e.key,r=v,a=Number(t);a?Number.isInteger(a)&&a>0&&a<=S.count&&(r=a):("ArrowUp"===t||"ArrowRight"===t)&&r<S.count?(e.preventDefault(),r+=S.isHalf?.5:1):("ArrowDown"===t||"ArrowLeft"===t)&&r>.5&&(e.preventDefault(),r-=S.isHalf?.5:1),W(r),J(r)}},className:F,style:d},S.isHalf&&function(){return o.default.createElement("style",{dangerouslySetInnerHTML:{__html:O?(e=S.activeColor,"\n          span.react-stars-half > * {\n          color: "+e+";\n      }"):u(S.activeColor,i)}});var e}(),x.map((function(e,t){return o.default.createElement(c.default,{key:t,index:t,active:e.active,config:S,onMouseOver:R,onMouseLeave:D,onClick:V,halfStarHidden:_,halfStarAt:T,isUsingIcons:O,uniqueness:i})})),o.default.createElement("p",{style:{position:"absolute",left:"-200rem"},role:"status"},v)))}f.propTypes={classNames:i.default.string,edit:i.default.bool,half:i.default.bool,value:i.default.number,count:i.default.number,char:i.default.string,size:i.default.number,color:i.default.string,activeColor:i.default.string,emptyIcon:i.default.element,halfIcon:i.default.element,filledIcon:i.default.element,a11y:i.default.bool},f.defaultProps={edit:!0,half:!1,value:0,count:5,char:"\u2605",size:15,color:"gray",activeColor:"#ffd700",a11y:!0,onChange:function(){}},t.default=f},563:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],a=!0,n=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(a=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);a=!0);}catch(c){n=!0,o=c}finally{try{!a&&s.return&&s.return()}finally{if(n)throw o}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=(0,n.useState)(e.count),r=a(t,2),o=r[0],i=r[1],s=(0,n.useState)(e.size),c=a(s,2),l=c[0],d=c[1],u=(0,n.useState)(e.char),f=a(u,2),h=f[0],v=f[1],m=(0,n.useState)(e.color),b=a(m,2),j=b[0],x=b[1],p=(0,n.useState)(e.activeColor),y=a(p,2),g=y[0],O=y[1],w=(0,n.useState)(e.isHalf),N=a(w,2),k=N[0],S=N[1],I=(0,n.useState)(e.edit),C=a(I,2),M=C[0],T=C[1],H=(0,n.useState)(e.emptyIcon),A=a(H,2),z=A[0],_=A[1],B=(0,n.useState)(e.halfIcon),q=a(B,2),E=q[0],F=q[1],L=(0,n.useState)(e.filledIcon),P=a(L,2),R=P[0],U=P[1],D=(0,n.useState)(e.a11y),W=a(D,2),V=W[0],J=W[1];return[{count:o,size:l,char:h,color:j,activeColor:g,isHalf:k,edit:M,emptyIcon:z,halfIcon:E,filledIcon:R,a11y:V},function(e){i(e.count),d(e.size),v(e.char),x(e.color),O(e.activeColor),S(e.isHalf),T(e.edit),_(e.emptyIcon),F(e.halfIcon),U(e.filledIcon),J(e.a11y)}]};var n=r(1)},564:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e};t.default=function(e){var t=e.index,r=e.active,n=e.config,o=e.onMouseOver,c=e.onMouseLeave,l=e.onClick,d=e.halfStarHidden,u=e.halfStarAt,f=e.isUsingIcons,h=e.uniqueness,v=n.color,m=n.activeColor,b=n.size,j=n.char,x=n.isHalf,p=n.edit,y=n.halfIcon,g=n.emptyIcon,O=n.filledIcon,w="",N=!1;x&&!d&&u===t&&(w=f?"react-stars-half":"react-stars-"+h,N=!0);var k=a({},s,{color:r?m:v,cursor:p?"pointer":"default",fontSize:b+"px"});return i.default.createElement("span",{className:w,style:k,key:t,"data-index":t,"data-forhalf":O?t:j,onMouseOver:o,onMouseMove:o,onMouseLeave:c,onClick:l},f?r?O:!r&&N?y:g:j)};var n,o=r(1),i=(n=o)&&n.__esModule?n:{default:n};var s={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"}},885:function(e,t,r){"use strict";r.r(t);var a=r(75),n=r(32),o=r(425),i=r(440),s=r(8),c=r(157),l=r(421),d=r(160),u=r(435),f=r(5),h=r(21),v=r(537),m=r.n(v),b=r(2),j=function(){var e=Object(l.c)("rating"),t=Object(h.a)(e,3),r=t[0],a=t[1],n=t[2].setValue,o={size:30,value:r.value,isHalf:!1,onChange:function(e){return n(e.toString())}};return Object(b.jsxs)("div",{children:[Object(b.jsx)("label",{className:"block dark:text-white text-sm font-medium text-gray-700",children:"Give stars"}),Object(b.jsx)(m.a,Object(f.a)({},o)),a.touched&&a.error&&Object(b.jsx)("p",{className:"mt-2 transition-all duration-200 text-sm text-red-600 dark:text-red-500",children:a.error})]})},x=r(35),p=r(15),y=r(442),g=r(62),O=r(154),w=r(87);t.default=function(){var e,t=Object(d.a)(),r=(null===t||void 0===t||null===(e=t.match)||void 0===e?void 0:e.params).productId,f=Object(x.useQuery)("product",(function(){return Object(O.k)(r)})),h=f.isLoading,v=f.data,m=f.isFetched&&!h?v.data.data:{},N=y.a({reviewTitle:y.c().required("Review title is required"),reviewText:y.c().required("Review is required").min(10,"Review must be atleast 10 characters long.").max(500,"Review cannot be greater than 500 characters long.")}),k=Object(x.useMutation)((function(e){return Object(a.g)(r,e)})),S=k.mutate,I=k.isLoading,C=k.isError,M=k.error,T=k.isSuccess;return h?Object(b.jsx)(w.a,{}):T?Object(b.jsx)(p.a,{to:s.a.getProductUrl(r)}):Object(b.jsxs)(c.a,{children:[Object(b.jsx)(g.a,{pageTitle:"Create Review - ".concat(m.productName)}),Object(b.jsx)(i.a,{fontWeight:"font-bold mb-8",children:"Write you review"}),Object(b.jsx)(i.a,{size:"font-sm",textColor:"dark:text-gray-500 text-gray-600",className:" mb-8",children:m.productName}),Object(b.jsx)(l.b,{initialValues:{reviewText:"",rating:3},validationSchema:N,onSubmit:S,children:Object(b.jsxs)(l.a,{className:"space-y-6",children:[Object(b.jsx)(o.a,{label:"Title",id:"reviewTitle",name:"reviewTitle",placeholder:"Add a title",required:!0}),Object(b.jsx)(o.a,{label:"Description",id:"reviewText",name:"reviewText",placeholder:"Write your review",required:!0,textarea:!0,rows:2,cols:255}),Object(b.jsx)(j,{}),Object(b.jsx)("div",{className:"flex items-center justify-end",children:Object(b.jsx)(n.a,{type:"submit",rounded:"rounded-lg",loading:I,gradient:!0,size:"lg",label:"Submit"})}),C&&Object(b.jsx)(u.a,{errors:[M.toString()]})]})})]})}}}]);
//# sourceMappingURL=40.46de3d23.chunk.js.map