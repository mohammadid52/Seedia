(this.webpackJsonp13rms=this.webpackJsonp13rms||[]).push([[9],{435:function(e,t,c){"use strict";c.r(t);var a=c(15),n=c.n(a),r=c(3),i=c(22),s=c(8),o=c(1),l=c(11),u=c(47),d=c(66),b=c(72),j=c(29),O=c(51),m=c(36),h=c(105),p=c(18),y=c(71),f=c(10),x=c(13),S=c(104),v=c(54),g=c(30),N=c(2),w=c(206);t.default=function(e){var t=e.accountType,c=void 0===t?"personal":t,a=e.user,q=Object(o.useState)(!0),C=Object(s.a)(q,1)[0],E=Object(j.g)(),k=Object(o.useState)(!1),P=Object(s.a)(k,2),T=P[0],A=P[1];Object(o.useEffect)((function(){!function(){if(a&&a.hasOwnProperty("accountFilled")&&(null===a||void 0===a?void 0:a.accountFilled))E.push(p.a.DASHBAORD)}()}),[]);var F=Object(g.b)().setValues,_=function(){var e=Object(i.a)(n.a.mark((function e(t){var c,i;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=Object(x.a)(),A(!0),i=Object(r.a)(Object(r.a)({},a),{},{location:Object(r.a)(Object(r.a)({},a.location),{},{country:t.country,pincode:t.pincode,state:t.state,city:t.city,livesIn:"".concat(t.city," ").concat(t.country)}),other:Object(r.a)(Object(r.a)({},a.other),{},{accountFilled:!1,accountFinishedStep:"location"})}),e.next=6,x.d.post("/user/update",Object(r.a)({},i),{headers:{Authorization:c}});case 6:delete i.password,F(Object(r.a)({},i)),E.push(p.a.CHOOSE_TEMPLATE),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:return e.prev=14,A(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,11,14,17]])})));return function(t){return e.apply(this,arguments)}}(),M=m.a({state:m.c().required(),country:m.c().required(),city:m.c().required(),pincode:m.c().required().matches(/^[0-9]+$/,"Must be only digits").min(6,"Must be exactly 6 digits").max(6,"Must be exactly 6 digits")}),D=Object(o.useState)({country:{shortName:"",longName:""},state:"",city:""}),H=Object(s.a)(D,2),B=H[0],J=H[1],L=w.getCountries(),R=function(e){return[{name:e,disabled:!0}]},V=Object(o.useState)([]),W=Object(s.a)(V,2),z=W[0],I=W[1],U=Object(o.useState)([]),$=Object(s.a)(U,2),G=$[0],K=$[1];return C?Object(N.jsx)(y.a,{title:"Welcome, ".concat((null===a||void 0===a?void 0:a.firstName)||"Human","!"),subtitle:Object(N.jsx)("p",{children:"Create a profile, connect with acquaintances and discuss topics that interest you."}),children:Object(N.jsxs)(v.a,{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:[Object(N.jsx)("div",{className:"bg-white  border border-transparent dark:border-gray-700  dark:bg-gray-800 py-8 px-4 shadow-md sm:rounded-lg sm:px-6",children:Object(N.jsx)(O.c,{initialValues:h.e,validationSchema:M,onSubmit:_,children:Object(N.jsxs)(O.b,{className:"space-y-6",children:[Object(N.jsx)("div",{children:Object(N.jsx)(S.a,{label:"Country / region",list:L,name:"country",required:!0,placeholder:"Select country",onSelect:function(e){!function(e){var t=w.getStatesByShort(e),c=Object(f.map)(t,(function(e){return{name:e}}));c&&c.length>0?I(c):I(R("No state found for selected country."))}(e.shortName),J(Object(r.a)(Object(r.a)({},B),{},{country:{shortName:e.shortName,longName:e.name}}))}})}),Object(N.jsx)("div",{children:Object(N.jsx)(S.a,{label:"State",list:z,name:"state",required:!0,placeholder:"Select state",onSelect:function(e){!function(e,t){var c=w.getCities(e,t),a=Object(f.map)(c,(function(e){return{name:e}}));a&&a.length>0?K(a):K(R("No city found for selected state."))}(B.country.shortName,e.name),J(Object(r.a)(Object(r.a)({},B),{},{state:e.name}))}})}),Object(N.jsx)("div",{children:Object(N.jsx)(S.a,{label:"Ctiy",name:"city",list:G,required:!0,placeholder:"Select city",onSelect:function(e){J(Object(r.a)(Object(r.a)({},B),{},{city:e.name}))}})}),Object(N.jsx)(u.a,{label:"Postal Code",id:"pincode",name:"pincode",placeholder:"Postal Code",required:!0}),Object(N.jsx)("div",{children:Object(N.jsx)(l.a,{fullWidth:!0,rounded:"rounded-lg",type:"submit",gradient:!0,loading:T,label:"Finish Submit"})})]})})}),Object(N.jsx)(d.a,{text:"Edit company details",onClick:function(){E.push("personal"===c?p.a.PERSONAL_STEP_1:p.a.STUDENT_STEP_1)},className:"inline-block mt-4"})]})}):Object(N.jsx)(b.a,{})}}}]);
//# sourceMappingURL=9.ff4fb64d.chunk.js.map