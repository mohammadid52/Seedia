(this.webpackJsonp13rms=this.webpackJsonp13rms||[]).push([[37],{504:function(e,t,a){"use strict";t.a=a.p+"static/media/placeholder.c69d1bed.png"},512:function(e,t,a){"use strict";var n=a(28),c=a(2);t.a=function(e){var t=e.text,a=e.color,s=void 0===a?"blue":a,i=e.className,r=void 0===i?"":i;return Object(c.jsx)("div",{className:"rounded-md dark:bg-transparent dark:border-gray-700 border border-gray-50 bg-".concat(s,"-50 p-4 ").concat(r),children:Object(c.jsxs)("div",{className:"flex",children:[Object(c.jsx)("div",{className:"flex-shrink-0",children:Object(c.jsx)(n.e,{className:"h-5 w-5 dark:text-".concat(s,"-300 text-").concat(s,"-400"),"aria-hidden":"true"})}),Object(c.jsx)("div",{className:"ml-3 flex-1 md:flex md:justify-between",children:Object(c.jsx)("p",{className:"text-sm pb-0 mb-0 dark:text-".concat(s,"-300 text-").concat(s,"-700"),children:t})})]})})}},606:function(e,t,a){"use strict";var n=a(2);t.a=function(e){var t=e.text,a=e.className,c=e.required,s=void 0!==c&&c;return Object(n.jsxs)("label",{className:"block dark:text-white text-sm font-medium text-gray-700 ".concat(a),children:[t," ",s?Object(n.jsx)("span",{className:"text-red-500 dark:text-red-400 font-medium text-base",children:"*"}):Object(n.jsx)("span",{className:"text-red-500 dark:text-red-400 font-medium text-base"})]})}},607:function(e,t,a){"use strict";var n=a(504),c=a(1),s=a.n(c),i=a(2),r=function(e){var t=e.onImageSelect,a=e.media,s=e.setMedia,r=Object(c.useRef)();return Object(i.jsxs)("div",{style:{backgroundImage:"url(".concat(a?URL.createObjectURL(a):n.a,")")},className:"h-96 bg-center flex items-center justify-center bg-no-repeat bg-cover shadow-xl rounded-xl w-full border border-gray-200 dark:border-gray-700",children:[Object(i.jsx)("input",{ref:r,className:"hidden",type:"file",onChange:function(e){return t(e,s)},accept:"image/x-png,image/jpeg"}),Object(i.jsxs)("h1",{onClick:function(){var e;return null===r||void 0===r||null===(e=r.current)||void 0===e?void 0:e.click()},className:"text-3xl font-bold  transition-all cursor-pointer bg-transparent hover:bg-white px-2 py-2 hover:text-gray-700 text-white",children:[a?"Change":"+ Choose"," Banner Image"]})]})};t.a=s.a.memo(r)},860:function(e,t,a){"use strict";a.r(t);var n=a(10),c=a(3),s=a(60),i=a(512),r=a(34),o=a(104),l=a(606),d=a(69),u=a(191),b=a(8),j=a(119),x=a(61),m=a(44),f=a(25),v=a(607),h=a(1),g=a(35),O=a(17),p=a(90),y=a(2);t.default=function(e){var t=e.userData,a=!Object(f.isEmpty)(null===t||void 0===t?void 0:t.store),k=Object(g.useMutation)(s.A,{onSuccess:function(e,t){var a,n=null===M||void 0===M||null===(a=M.current)||void 0===a?void 0:a.values;if((null===M||void 0===M?void 0:M.current)&&n){var s=Object(c.a)({bannerImage:e.data.data.location},n);S({storeData:s})}}}),N=Object(g.useMutation)(s.t,{onSuccess:function(){E({show:!0,title:"Congratulations ".concat(t.firstName,". You have successfully opened a shop on Tradingpost13RMS. Good luck selling your stuff."),buttonText:"View store",buttonUrl:b.a.viewStore(t.profileUrl)})}}),w=N.isLoading,S=N.mutate,L=N.isSuccess,B=Object(O.g)();Object(h.useEffect)((function(){var e;!L&&Object(f.isEmpty)(null===t||void 0===t?void 0:t.store)||B.push(b.a.getProfileById(t.profileUrl,(null===t||void 0===t||null===(e=t.other)||void 0===e?void 0:e.template)||1,"private"))}),[L]);var I=p.a({buttonLabel:p.c().required("Button label is required").min(3).max(150),buttonLink:p.c().required("Button link is required").min(5).max(150)}),M=Object(h.useRef)(),R=Object(h.useState)(),C=Object(n.a)(R,2),D=C[0],q=C[1],E=Object(x.b)().setNotification;return a?(E({show:!0,title:"Store is already created."}),Object(y.jsx)(O.a,{to:b.a.FEED})):Object(y.jsxs)(j.a,{customMaxWidth:"max-w-7xl",userData:t,children:[Object(y.jsx)(d.a,{pageTitle:"Open Store | 13RMS"}),Object(y.jsx)(u.a,{fontWeight:"font-bold mb-8",children:"Open store"}),Object(y.jsx)(m.b,{initialValues:{buttonLabel:"",buttonLink:""},innerRef:M,validationSchema:I,onSubmit:function(e){var t=new FormData;t.append("image",D),k.mutate(t)},children:Object(y.jsx)(m.a,{className:"my-4 flex flex-col gap-y-12",children:Object(y.jsxs)("div",{className:"grid grid-cols-1 gap-y-12",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)(l.a,{text:"Banner Image"}),Object(y.jsx)(v.a,{media:D,setMedia:q,onImageSelect:function(e,t){t(e.target.files[0])}})]}),Object(y.jsxs)("div",{children:[Object(y.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-12",children:[Object(y.jsxs)("div",{children:[Object(y.jsx)(l.a,{text:"Button label"}),Object(y.jsx)(o.a,{info:"The name of button",name:"buttonLabel",placeholder:"Discover"})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)(l.a,{text:"Button link"}),Object(y.jsx)(o.a,{name:"buttonLink",info:"Link of button",placeholder:"www.myshoppingsite.com"})]})]}),Object(y.jsx)("div",{className:"mt-4",children:Object(y.jsx)(i.a,{text:"You will be able to add products later once you create store "})})]}),Object(y.jsx)("div",{children:Object(y.jsx)("div",{children:Object(y.jsx)("div",{className:"flex items-center justify-end",children:Object(y.jsx)(r.a,{type:"submit",rounded:"rounded-lg",loading:w||k.isLoading,gradient:!0,size:"lg",label:"Create store"})})})})]})})})]})}}}]);
//# sourceMappingURL=37.1bf85553.chunk.js.map