{"version":3,"sources":["pages/Signup.jsx"],"names":["Signup","validationSchema","Yup","firstName","required","lastName","email","password","min","confirmPassword","oneOf","useState","saving","setSaving","errors","setErrors","history","useHistory","setValues","useUserContext","onSubmit","_values","a","updatedData","fullName","other","createdOn","Date","accountFilled","accountFinishedStep","token","getAccessToken","network","post","headers","Authorization","data","status","includes","message","localStorage","setItem","access_token","push","links","CHOOSE_ACCOUNT","console","error","className","src","alt","initialValues","SIGNUP","gridClass","label","id","name","type","showPasswordButton","href","hidden","length","fullWidth","rounded","loading","gradient"],"mappings":"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","file":"static/js/6.149e6a3b.chunk.js","sourcesContent":["import { useState } from 'react'\nimport Copyright from 'components/Copyright'\nimport Button from 'components/atoms/Button'\nimport { useHistory } from 'react-router-dom'\nimport FormInput from 'components/atoms/FormInput'\nimport { Formik, Form } from 'formik'\nimport * as Yup from 'yup'\nimport { links } from 'constants/Links'\nimport Error from 'components/alerts/Error'\nimport { SIGNUP } from 'initials'\nimport { useUserContext } from 'context/UserContext'\nimport { getAccessToken, network } from 'helpers'\n\nconst Signup = () => {\n  const validationSchema = Yup.object({\n    firstName: Yup.string().required('Please enter your first name'),\n    lastName: Yup.string().required('Please enter your last name'),\n    email: Yup.string()\n      .email('Invalid email address')\n      .required('Please add email address'),\n    password: Yup.string()\n      .min(6, 'Password must be atleast 6 characters long')\n      .required('Please add password'),\n    confirmPassword: Yup.string()\n      .oneOf([Yup.ref('password'), null], 'Password must match')\n      .required('Please add confirm password'),\n  })\n\n  const [saving, setSaving] = useState(false)\n  const [errors, setErrors] = useState([])\n\n  const history = useHistory()\n\n  const { setValues } = useUserContext()\n\n  const onSubmit = async (_values) => {\n    try {\n      setSaving(true)\n      const updatedData = {\n        password: _values.password,\n        firstName: _values.firstName,\n        lastName: _values.lastName,\n        email: _values.email,\n        fullName: _values.firstName + ' ' + _values.lastName,\n        other: {\n          createdOn: new Date(),\n          accountFilled: false,\n          accountFinishedStep: 'signup',\n        },\n      }\n      const token = getAccessToken()\n\n      const { data } = await network.post(\n        '/auth/register',\n        {\n          ...updatedData,\n        },\n        {\n          headers: { Authorization: token },\n        }\n      )\n\n      if (data.status === 'error') {\n        if (!errors.includes(data.message)) {\n          setErrors([...errors, data.message])\n        }\n      } else {\n        setErrors([])\n        localStorage.setItem('access_token', data.data.access_token)\n\n        delete updatedData.password\n        setValues({ ...updatedData })\n\n        history.push(links.CHOOSE_ACCOUNT)\n      }\n    } catch (error) {\n      setErrors([...errors, error.message])\n\n      console.error(error)\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-800 flex flex-col justify-start py-12 sm:px-6 lg:px-8\">\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md flex items-center flex-col \">\n        <img\n          className=\"mx-auto h-32 w-auto\"\n          src={process.env.PUBLIC_URL + '/logo.png'}\n          alt=\"Workflow\"\n        />\n        <h2 className=\"mt-6 dark:text-white text-center text-3xl font-extrabold text-gray-900\">\n          Create new account\n        </h2>\n        <p className=\"mt-2 text-center text-sm text-gray-600\">\n          Discover the benefits of selling and <br />\n          networking with your profile\n        </p>\n      </div>\n\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n        <div className=\"bg-white dark:border-gray-700 border border-transparent dark:bg-gray-800 py-8 px-4 shadow-md sm:rounded-lg sm:px-6\">\n          <Formik\n            initialValues={SIGNUP}\n            validationSchema={validationSchema}\n            onSubmit={onSubmit}\n          >\n            <Form className=\"space-y-6\">\n              <div className=\"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6\">\n                <FormInput\n                  gridClass=\"sm:col-span-3\"\n                  label=\"First name\"\n                  id=\"firstName\"\n                  name=\"firstName\"\n                  required\n                />\n\n                <FormInput\n                  gridClass=\"sm:col-span-3\"\n                  label=\"Last name\"\n                  id=\"lastName\"\n                  name=\"lastName\"\n                  required\n                />\n              </div>\n\n              <FormInput\n                label=\"Email\"\n                id=\"email\"\n                name=\"email\"\n                required\n                type=\"email\"\n              />\n              <FormInput\n                label=\"Password\"\n                id=\"password\"\n                name=\"password\"\n                showPasswordButton\n                type=\"password\"\n                required\n              />\n              <FormInput\n                label=\"Confirm password\"\n                name=\"confirmPassword\"\n                id=\"confirmPassword\"\n                showPasswordButton\n                type=\"password\"\n                required\n              />\n\n              <p className=\"my-4 text-left text-xs dark:text-gray-400 text-gray-600\">\n                By clicking Agree and Join, you agree to 13RMS{' '}\n                <a\n                  href=\"#/\"\n                  className=\"font-medium text-xs text-blue-600 hover:text-blue-500\"\n                >\n                  User Agreement, Privacy Policy\n                </a>{' '}\n                and{' '}\n                <a\n                  href=\"#/\"\n                  className=\"font-medium text-xs text-blue-600 hover:text-blue-500\"\n                >\n                  Cookie Policy\n                </a>\n              </p>\n              <div hidden={errors.length === 0}>\n                <Error errors={errors} />\n              </div>\n\n              <div>\n                <Button\n                  type=\"submit\"\n                  fullWidth\n                  rounded=\"rounded-lg\"\n                  loading={saving}\n                  gradient\n                  label=\"Agree and become a member\"\n                />\n              </div>\n            </Form>\n          </Formik>\n        </div>\n        <div className=\"mt-4 text-center dark:text-white\">\n          Already on 13RMS?\n          <a href=\"/login\" className=\"link-hover\">\n            {' '}\n            Login now\n          </a>\n        </div>\n      </div>\n      <Copyright />\n    </div>\n  )\n}\nexport default Signup\n"],"sourceRoot":""}