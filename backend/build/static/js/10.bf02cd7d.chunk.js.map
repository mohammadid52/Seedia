{"version":3,"sources":["components/Copyright.jsx","pages/Login.jsx"],"names":["Copyright","year","Date","getFullYear","className","href","useStyles","makeStyles","theme","paper","display","flexDirection","alignItems","avatar","margin","spacing","backgroundColor","palette","secondary","main","form","width","marginTop","submit","loginUser","credentials","a","fetch","method","headers","body","JSON","stringify","then","data","json","Login","setToken","classes","useState","isLoaded","setIsLoaded","history","useHistory","email","password","fields","setFields","onChange","e","setFormError","target","name","value","formError","handleSubmit","preventDefault","token","console","log","push","error","setTimeout","component","style","height","src","alt","onSubmit","type","id","placeholder","autoComplete","marginBottom","textAlign","color","fontWeight","textTransform","onClick"],"mappings":"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","file":"static/js/10.bf02cd7d.chunk.js","sourcesContent":["const Copyright = () => {\n  const year = new Date().getFullYear()\n  return (\n    <div className=\"row absolute bottom-0 text-base w-full\">\n      <hr />\n      <div className=\"light row \">\n        <div className=\"text-center col-sm-6 col-md-12\">\n          <p className=\"copy-right\">\n            Â© {year} All rights reserved.{' '}\n            <a href=\"/#\" className=\"link link-hover\">\n              Accessibility{' '}\n            </a>\n            <a href=\"/#\" className=\"link link-hover\">\n              User agreement{' '}\n            </a>{' '}\n            <a href=\"/#\" className=\"link link-hover\">\n              Privacy &amp; Policy{' '}\n            </a>\n            <a href=\"/#\" className=\"link link-hover\">\n              Cookies{' '}\n            </a>\n          </p>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Copyright\n","import React, { useState } from 'react'\n\nimport CssBaseline from '@material-ui/core/CssBaseline'\n\nimport Box from '@material-ui/core/Box'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { useHistory } from 'react-router'\nimport Loading from 'components/Loading'\n\nimport { Row, Col, FormInput } from 'shards-react'\nimport Copyright from 'components/Copyright'\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    // marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}))\n\nasync function loginUser(credentials) {\n  return fetch('/login', {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify(credentials),\n  }).then((data) => data.json())\n}\n\nexport default function Login({ setToken, theme = 'light' }) {\n  const classes = useStyles()\n  const [isLoaded, setIsLoaded] = useState(true)\n  const history = useHistory()\n\n  //capture inputs\n  const [fields, setFields] = useState({\n    email: '',\n    password: '',\n  })\n\n  const onChange = (e) => {\n    setFormError(null)\n    const { name, value } = e.target\n    setFields({ ...fields, [name]: value })\n  }\n\n  const [formError, setFormError] = useState(null)\n\n  const handleSubmit = async (e) => {\n    e.preventDefault()\n    try {\n      const { email, password } = fields\n      const token = await loginUser({\n        email,\n        password,\n      })\n      console.log('Token: ', token)\n      if (token.token && token.name) {\n        setToken(token)\n        history.push('/dashboard')\n      } else {\n        if (token.error) {\n          // handle invalid notification\n          setFormError(token.error)\n        } else {\n          // all other errors\n        }\n      }\n    } catch (error) {\n      console.error(error)\n    }\n  }\n\n  setTimeout(() => {\n    setIsLoaded(true)\n  }, 1000)\n\n  const { email, password } = fields\n\n  return !isLoaded ? (\n    <Loading />\n  ) : (\n    <main className={` h-screen loginContainer ${theme}`} component=\"main\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <img\n          style={{ height: '8rem' }}\n          className={'logo'}\n          src={'/logo.png'}\n          alt=\"13RMS\"\n        />\n        <form onSubmit={handleSubmit} className={classes.form}>\n          <div className=\"card_layout\">\n            <h3 className=\"text-4xl font-semibold\">Sign In</h3>\n            <p className=\"text-base\">Stay updated on your professional world</p>\n            <Row form>\n              {/* Email */}\n              <Col style={{ marginTop: 40 }} className=\"form-group\">\n                <FormInput\n                  type=\"email\"\n                  id=\"feEmail\"\n                  name=\"email\"\n                  placeholder=\"Email\"\n                  value={email}\n                  onChange={onChange}\n                  autoComplete=\"email\"\n                />\n              </Col>\n              {/* Password */}\n              <div style={{ marginTop: 20 }}></div>\n              <Col className=\"form-group\">\n                <FormInput\n                  type=\"password\"\n                  id=\"fePassword\"\n                  name=\"password\"\n                  placeholder=\"Password\"\n                  onChange={onChange}\n                  autoComplete=\"current-password\"\n                  value={password}\n                  style={{ marginBottom: 10 }}\n                />\n              </Col>\n\n              <a href=\"/#\" className=\"link-hover forgot-password\">\n                Forgot password?\n              </a>\n              <Box\n                textAlign=\"center\"\n                color=\"red\"\n                fontWeight=\"400\"\n                marginTop=\"0.5rem\"\n                marginBottom=\"0.5rem\"\n                style={{ textTransform: 'capitalize' }}\n              >\n                {formError ? formError : null}\n              </Box>\n              <Col className=\"form-group row footer\">\n                <button\n                  type=\"submit\"\n                  onClick={handleSubmit}\n                  className=\"save-button btn btn-primary btn\"\n                >\n                  Sign In\n                </button>\n              </Col>\n            </Row>\n          </div>\n        </form>\n        <Box textAlign=\"center\" className=\"join-now mt-2\">\n          Not yet on 13RMS?\n          <a href=\"/signup\" className=\"link-hover log-in-span\">\n            {' '}\n            Join now\n          </a>\n        </Box>\n      </div>\n      <Copyright />\n    </main>\n  )\n}\n"],"sourceRoot":""}