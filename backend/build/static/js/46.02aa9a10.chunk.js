(this.webpackJsonp13rms=this.webpackJsonp13rms||[]).push([[46],{555:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(u){n=!0,i=u}finally{try{!r&&l.return&&l.return()}finally{if(n)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=a(1),i=c(n),o=c(a(16)),l=c(a(574)),u=c(a(575));function c(e){return e&&e.__esModule?e:{default:e}}var s={overflow:"hidden",position:"relative"};function f(e,t){return"\n    .react-stars-"+t+":before {\n      position: absolute;\n      overflow: hidden;\n      display: block;\n      z-index: 1;\n      top: 0; left: 0;\n      width: 50%;\n      content: attr(data-forhalf);\n      color: "+e+";\n  }"}function d(e){var t=(0,n.useState)(""),a=r(t,2),o=a[0],c=a[1],d=(0,n.useState)(0),v=r(d,2),h=v[0],b=v[1],m=(0,n.useState)([]),p=r(m,2),y=p[0],j=p[1],g=(0,n.useState)(!1),x=r(g,2),w=x[0],O=x[1],S=(0,l.default)(e),I=r(S,2),M=I[0],H=I[1],C=(0,n.useState)(0),N=r(C,2),k=N[0],T=N[1],A=(0,n.useState)(!1),_=r(A,2),z=_[0],E=_[1],q=(0,n.useState)(""),D=r(q,2),L=D[0],R=D[1];function P(e){"undefined"===typeof e&&(e=M.isHalf?Math.floor(h):Math.round(h));for(var t=[],a=0;a<M.count;a++)t.push({active:a<=e-1});return t}function U(e){if(M.edit){var t=Number(e.currentTarget.getAttribute("data-index"));if(M.isHalf){var a=W(e);E(a),a&&(t+=1),T(t)}else t+=1;!function(e){var t=y.filter((function(e){return e.active}));e!==t.length&&j(P(e))}(t)}}function W(e){var t=e.target.getBoundingClientRect(),a=e.clientX-t.left;return(a=Math.round(Math.abs(a)))>t.width/2}function J(){M.edit&&(V(h),j(P()))}function V(e){M.isHalf&&(E(function(e){return e%1===0}(e)),T(Math.floor(e)))}function B(e){if(M.edit){var t=Number(e.currentTarget.getAttribute("data-index")),a=void 0;if(M.isHalf){var r=W(e);E(r),r&&(t+=1),a=r?t:t+.5,T(t)}else a=t+=1;F(a)}}function F(t){t!==h&&(j(P(t)),b(t),e.onChange(t))}return(0,n.useEffect)((function(){var t,a;!function(){var t="react-stars";R(e.classNames+" "+t)}(),t=e.value,a=e.count,b(t<0||t>a?0:t),j(P(e.value)),H(e),c((Math.random()+"").replace(".","")),O(function(e){return!e.isHalf&&e.emptyIcon&&e.filledIcon||e.isHalf&&e.emptyIcon&&e.halfIcon&&e.filledIcon}(e)),T(Math.floor(e.value)),E(e.isHalf&&e.value%1<.5)}),[]),i.default.createElement("div",{className:"react-stars-wrapper-"+o,style:{display:"flex"}},i.default.createElement("div",{tabIndex:M.a11y&&M.edit?0:null,"aria-label":"add rating by typing an integer from 0 to 5 or pressing arrow keys",onKeyDown:function(e){if(M.a11y||M.edit){var t=e.key,a=h,r=Number(t);r?Number.isInteger(r)&&r>0&&r<=M.count&&(a=r):("ArrowUp"===t||"ArrowRight"===t)&&a<M.count?(e.preventDefault(),a+=M.isHalf?.5:1):("ArrowDown"===t||"ArrowLeft"===t)&&a>.5&&(e.preventDefault(),a-=M.isHalf?.5:1),V(a),F(a)}},className:L,style:s},M.isHalf&&function(){return i.default.createElement("style",{dangerouslySetInnerHTML:{__html:w?(e=M.activeColor,"\n          span.react-stars-half > * {\n          color: "+e+";\n      }"):f(M.activeColor,o)}});var e}(),y.map((function(e,t){return i.default.createElement(u.default,{key:t,index:t,active:e.active,config:M,onMouseOver:U,onMouseLeave:J,onClick:B,halfStarHidden:z,halfStarAt:k,isUsingIcons:w,uniqueness:o})})),i.default.createElement("p",{style:{position:"absolute",left:"-200rem"},role:"status"},h)))}d.propTypes={classNames:o.default.string,edit:o.default.bool,half:o.default.bool,value:o.default.number,count:o.default.number,char:o.default.string,size:o.default.number,color:o.default.string,activeColor:o.default.string,emptyIcon:o.default.element,halfIcon:o.default.element,filledIcon:o.default.element,a11y:o.default.bool},d.defaultProps={edit:!0,half:!1,value:0,count:5,char:"\u2605",size:15,color:"gray",activeColor:"#ffd700",a11y:!0,onChange:function(){}},t.default=d},574:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],r=!0,n=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);r=!0);}catch(u){n=!0,i=u}finally{try{!r&&l.return&&l.return()}finally{if(n)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e){var t=(0,n.useState)(e.count),a=r(t,2),i=a[0],o=a[1],l=(0,n.useState)(e.size),u=r(l,2),c=u[0],s=u[1],f=(0,n.useState)(e.char),d=r(f,2),v=d[0],h=d[1],b=(0,n.useState)(e.color),m=r(b,2),p=m[0],y=m[1],j=(0,n.useState)(e.activeColor),g=r(j,2),x=g[0],w=g[1],O=(0,n.useState)(e.isHalf),S=r(O,2),I=S[0],M=S[1],H=(0,n.useState)(e.edit),C=r(H,2),N=C[0],k=C[1],T=(0,n.useState)(e.emptyIcon),A=r(T,2),_=A[0],z=A[1],E=(0,n.useState)(e.halfIcon),q=r(E,2),D=q[0],L=q[1],R=(0,n.useState)(e.filledIcon),P=r(R,2),U=P[0],W=P[1],J=(0,n.useState)(e.a11y),V=r(J,2),B=V[0],F=V[1];return[{count:i,size:c,char:v,color:p,activeColor:x,isHalf:I,edit:N,emptyIcon:_,halfIcon:D,filledIcon:U,a11y:B},function(e){o(e.count),s(e.size),h(e.char),y(e.color),w(e.activeColor),M(e.isHalf),k(e.edit),z(e.emptyIcon),L(e.halfIcon),W(e.filledIcon),F(e.a11y)}]};var n=a(1)},575:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};t.default=function(e){var t=e.index,a=e.active,n=e.config,i=e.onMouseOver,u=e.onMouseLeave,c=e.onClick,s=e.halfStarHidden,f=e.halfStarAt,d=e.isUsingIcons,v=e.uniqueness,h=n.color,b=n.activeColor,m=n.size,p=n.char,y=n.isHalf,j=n.edit,g=n.halfIcon,x=n.emptyIcon,w=n.filledIcon,O="",S=!1;y&&!s&&f===t&&(O=d?"react-stars-half":"react-stars-"+v,S=!0);var I=r({},l,{color:a?b:h,cursor:j?"pointer":"default",fontSize:m+"px"});return o.default.createElement("span",{className:O,style:I,key:t,"data-index":t,"data-forhalf":w?t:p,onMouseOver:i,onMouseMove:i,onMouseLeave:u,onClick:c},d?a?w:!a&&S?g:x:p)};var n,i=a(1),o=(n=i)&&n.__esModule?n:{default:n};var l={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"}},889:function(e,t,a){"use strict";a.r(t);var r=a(60),n=a(34),i=a(104),o=a(191),l=a(8),u=a(118),c=a(44),s=a(194),f=a(190),d=a(3),v=a(10),h=a(555),b=a.n(h),m=a(2),p=function(){var e=Object(c.c)("rating"),t=Object(v.a)(e,3),a=t[0],r=t[1],n=t[2].setValue,i={size:30,value:a.value,isHalf:!1,onChange:function(e){return n(e.toString())}};return Object(m.jsxs)("div",{children:[Object(m.jsx)("label",{className:"block dark:text-white text-sm font-medium text-gray-700",children:"Give stars"}),Object(m.jsx)(b.a,Object(d.a)({},i)),r.touched&&r.error&&Object(m.jsx)("p",{className:"mt-2 transition-all duration-200 text-sm text-red-600 dark:text-red-500",children:r.error})]})},y=a(35),j=a(17),g=a(90),x=a(69),w=a(117),O=a(89);t.default=function(e){var t,a=e.userData,d=Object(s.a)(),v=(null===d||void 0===d||null===(t=d.match)||void 0===t?void 0:t.params).productId,h=Object(y.useQuery)("product",(function(){return Object(w.m)(v)})),b=h.isLoading,S=h.data,I=h.isFetched&&!b?S.data.data:{},M=g.a({reviewTitle:g.c().required("Review title is required"),reviewText:g.c().required("Review is required").min(10,"Review must be atleast 10 characters long.").max(500,"Review cannot be greater than 500 characters long.")}),H=Object(y.useMutation)((function(e){return Object(r.h)(v,e)})),C=H.mutate,N=H.isLoading,k=H.isError,T=H.error,A=H.isSuccess;return b?Object(m.jsx)(O.a,{}):A?Object(m.jsx)(j.a,{to:l.a.getProductUrl(v)}):Object(m.jsxs)(u.a,{userData:a,children:[Object(m.jsx)(x.a,{pageTitle:"Create Review - ".concat(I.productName)}),Object(m.jsx)(o.a,{fontWeight:"font-bold mb-8",children:"Write you review"}),Object(m.jsx)(o.a,{size:"font-sm",textColor:"dark:text-gray-500 text-gray-600",className:" mb-8",children:I.productName}),Object(m.jsx)(c.b,{initialValues:{reviewText:"",rating:3},validationSchema:M,onSubmit:C,children:Object(m.jsxs)(c.a,{className:"space-y-6",children:[Object(m.jsx)(i.a,{label:"Title",id:"reviewTitle",name:"reviewTitle",placeholder:"Add a title",required:!0}),Object(m.jsx)(i.a,{label:"Description",id:"reviewText",name:"reviewText",placeholder:"Write your review",required:!0,textarea:!0,rows:2,cols:255}),Object(m.jsx)(p,{}),Object(m.jsx)("div",{className:"flex items-center justify-end",children:Object(m.jsx)(n.a,{type:"submit",rounded:"rounded-lg",loading:N,gradient:!0,size:"lg",label:"Submit"})}),k&&Object(m.jsx)(f.a,{errors:[T.toString()]})]})})]})}}}]);
//# sourceMappingURL=46.02aa9a10.chunk.js.map