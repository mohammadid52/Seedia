{"version":3,"sources":["hooks/useUser.ts","components/Tabs.tsx","hooks/useTabs.ts","pages/followers/UserFollowers.tsx"],"names":["useUser","profileUrl","userData","fetchProfile","iAmOwnerOfThisProfile","getUniqId","_id","useQuery","fetchUserById","enabled","isFetched","isLoading","data","refetch","otherUserData","Tabs","tabs","currentTab","setCurrentTab","className","htmlFor","id","name","defaultValue","find","tab","map","tabIndex","onClick","classNames","useTabs","initCurrentTab","useState","helpers","UserFollowers","followers","length","route","useRouter","match","params","onFollowers","onFollowings","user","config","users","following","fetchUsers","isSuccess","list","history","useHistory","useEffect","push","links","followings","customMaxWidth","pageTitle","fullName","content","people","idx"],"mappings":"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","file":"static/js/43.b3538d58.chunk.js","sourcesContent":["import { fetchUserById } from 'apis/queries'\nimport { getUniqId } from 'helpers'\nimport { IParent } from 'interfaces/UniversalInterface'\nimport { useQuery } from 'react-query'\nconst useUser = (\n  profileUrl: string,\n  userData?: IParent,\n  fetchProfile: boolean = true\n) => {\n  const iAmOwnerOfThisProfile =\n    userData && getUniqId(profileUrl) === userData?._id\n\n  const { isFetched, isLoading, data, refetch } = useQuery(\n    'user',\n    () => fetchUserById(profileUrl),\n    { enabled: !iAmOwnerOfThisProfile && fetchProfile }\n  )\n\n  const otherUserData = isFetched && !isLoading && data.data.data\n\n  return { otherUserData, isFetched, isLoading, iAmOwnerOfThisProfile, refetch }\n}\n\nexport default useUser\n","import { classNames } from 'utils/classNames'\n\nexport interface ITab {\n  name: string\n}\n\nexport interface TabsProps {\n  tabs: ITab[]\n  currentTab: string\n  setCurrentTab: React.Dispatch<React.SetStateAction<string>>\n}\n\nconst Tabs = ({ tabs, currentTab, setCurrentTab }: TabsProps) => {\n  return (\n    <div>\n      <div className=\"sm:hidden\">\n        <label htmlFor=\"tabs\" className=\"sr-only\">\n          Select a tab\n        </label>\n\n        <select\n          id=\"tabs\"\n          name=\"tabs\"\n          className=\"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md\"\n          defaultValue={tabs.find((tab) => tab.name === currentTab).name}\n        >\n          {tabs.map((tab) => (\n            <option key={tab.name}>{tab.name}</option>\n          ))}\n        </select>\n      </div>\n      <div className=\"hidden sm:block\">\n        <div className=\"\">\n          <nav className=\"-mb-px flex space-x-8\" aria-label=\"Tabs\">\n            {tabs.map((tab) => (\n              <div\n                tabIndex={0}\n                key={tab.name}\n                onClick={() => setCurrentTab(tab.name)}\n                className={classNames(\n                  currentTab === tab.name\n                    ? ' gradient-text border-b-2 dark:border-pink-700 border-pink-200'\n                    : 'dark:hover:text-pink-600 border-transparent border-b-2 text-gray-500 hover:text-gray-700 dark:hover:border-gray-600 hover:border-gray-300',\n                  'whitespace-nowrap py-4 cursor-pointer px-1  font-medium text-sm'\n                )}\n              >\n                {tab.name}\n              </div>\n            ))}\n          </nav>\n        </div>\n      </div>\n    </div>\n  )\n}\nexport default Tabs\n","import { ITab } from 'components/Tabs'\nimport { useState } from 'react'\n\nconst useTabs = (tabs: ITab[]) => {\n  const initCurrentTab = tabs[0].name\n  const [currentTab, setCurrentTab] = useState(initCurrentTab)\n\n  const helpers = tabs.map((tab) => tab.name === currentTab)\n\n  return { currentTab, setCurrentTab, helpers }\n}\n\nexport default useTabs\n","import { fetchUsers } from 'apis/queries'\nimport Card from 'components/atoms/Card'\nimport Meta from 'components/atoms/Meta/Meta'\nimport Tabs from 'components/Tabs'\nimport User from 'components/User'\nimport { links } from 'constants/Links'\nimport NarrowLayout from 'containers/NarrowLayout'\nimport { useRouter } from 'hooks/useRouter'\nimport useTabs from 'hooks/useTabs'\nimport useUser from 'hooks/useUser'\nimport { IParent } from 'interfaces/UniversalInterface'\nimport { useEffect } from 'react'\nimport { useQuery } from 'react-query'\nimport { useHistory } from 'react-router'\n\nconst UserFollowers = ({ userData }: { userData: IParent }) => {\n  const tabs = [\n    { name: `${userData?.followers?.length} Followers` },\n    { name: 'Followings' },\n  ]\n\n  const route: any = useRouter()\n  const { profileUrl } = route?.match?.params\n\n  const { currentTab, setCurrentTab, helpers } = useTabs(tabs)\n  const [onFollowers, onFollowings] = helpers\n\n  const { iAmOwnerOfThisProfile, otherUserData } = useUser(profileUrl, userData)\n\n  const user: IParent = iAmOwnerOfThisProfile ? userData : otherUserData\n\n  const config = {\n    users: onFollowers ? user?.followers : user?.following,\n  }\n\n  const { data, isLoading, isFetched, isSuccess } = useQuery(\n    `user-${onFollowers ? 'followers' : 'followings'}`,\n    () => fetchUsers(config)\n  )\n\n  const list: IParent[] =\n    !isLoading && isFetched && isSuccess ? data.data.data.users : []\n\n  const history = useHistory()\n  useEffect(() => {\n    if (onFollowers) {\n      history.push(links.followers(user.profileUrl))\n    } else {\n      history.push(links.followings(user.profileUrl))\n    }\n  }, [onFollowers, onFollowings])\n\n  return (\n    <NarrowLayout userData={userData} customMaxWidth=\"max-w-7xl\">\n      <Meta\n        pageTitle={`${onFollowers ? 'Followers' : 'Followings'} | ${\n          user.fullName\n        } | 13RMS`}\n      />\n      <div className=\"flex flex-col gap-y-12\">\n        <Card\n          content={\n            <div className=\"flex items-center justify-between\">\n              <Tabs\n                tabs={tabs}\n                currentTab={currentTab}\n                setCurrentTab={setCurrentTab}\n              />\n            </div>\n          }\n        />\n\n        <Card\n          content={\n            <div className=\"grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5\">\n              {list && list.length > 0 ? (\n                list.map((people: IParent, idx: number) => (\n                  <User key={people?._id} user={people} />\n                ))\n              ) : (\n                <p className=\"text-gray-400 text-center\">\n                  no {onFollowings ? 'followings' : 'followers'} found\n                </p>\n              )}\n            </div>\n          }\n        />\n      </div>\n    </NarrowLayout>\n  )\n}\n\nexport default UserFollowers\n"],"sourceRoot":""}