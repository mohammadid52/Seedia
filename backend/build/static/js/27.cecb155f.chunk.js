(this.webpackJsonp13rms=this.webpackJsonp13rms||[]).push([[27],{487:function(e,t,a){"use strict";var r=a(1),n=a(54),s=a(552),i=a(39),c=a(25),o=a(2);t.a=function(e){var t=e.open,a=void 0!==t&&t,l=e.setOpen,d=e.children,u=e.header,m=e.onClose,b=e.disableBackdropClose,j=void 0===b||b,p=e.hideCloseBtn,x=void 0!==p&&p,g=e.fixedBottom,h=e.disablePadding,f=void 0!==h&&h;return Object(o.jsx)(n.a.Root,{show:a,as:r.Fragment,children:Object(o.jsx)(s.a,{as:"div",static:!0,style:{zIndex:9999},className:"fixed inset-0 overflow-y-auto",open:a,onClose:j?c.noop:m||l,children:Object(o.jsxs)("div",{className:"pb-20 flex items-end justify-center min-h-screen pt-4 px-4 text-center sm:block sm:p-0",children:[Object(o.jsx)(n.a.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(o.jsx)(s.a.Overlay,{className:"fixed dark:bg-black inset-0 bg-gray-500 opacity-50 transition-opacity"})}),Object(o.jsx)("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200b"}),Object(o.jsx)(n.a.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:Object(o.jsxs)("div",{className:"inline-block overflow-visible align-bottom  bg-white dark:bg-gray-900 rounded-lg ".concat(f?"":"px-4 sm:p-6"," pt-5  text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-top   pb-4"),children:[!x&&Object(o.jsx)("div",{className:"hidden sm:block absolute top-0 right-0 pt-6 pr-6",children:Object(o.jsxs)("button",{type:"button",className:"bg-white dark:bg-gray-900 rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pink-500",onClick:function(){return m?m():l(!1)},children:[Object(o.jsx)("span",{className:"sr-only",children:"Close"}),Object(o.jsx)(i.f,{className:"h-6 w-6","aria-hidden":"true"})]})}),Object(o.jsxs)("div",{className:"modal-body",children:[u&&Object(o.jsx)("div",{className:"modal-header divider dark:divider px-2",children:Object(o.jsx)("h3",{className:"dark:text-white text-gray-900 text-xl font-normal",children:u})}),Object(o.jsx)("div",{className:"",children:d}),g&&Object(o.jsx)("div",{className:"absolute dark:border-gray-800 border-t bg-white dark:bg-gray-900 bottom-0 mx-6 inset-x-0",children:g})]})]})})]})})})}},494:function(e,t,a){"use strict";var r=a(2);t.a=function(){return Object(r.jsx)("div",{className:" flex m-4 justify-center items-center",children:Object(r.jsx)("div",{className:"animate-spin rounded-full h-24 w-24 border-t-2 border-b-2 border-pink-500"})})}},498:function(e,t,a){"use strict";var r=a(1),n=a(850),s=a(54),i=a(28),c=a(13),o=a(122),l=a.n(o),d=a(2);t.a=function(e){var t=e.list;return Object(d.jsxs)(n.a,{as:"div",className:"relative inline-block text-left",children:[Object(d.jsx)("div",{children:Object(d.jsxs)(n.a.Button,{className:"rounded-full flex items-center text-gray-400 hover:text-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-yellow-100 focus:ring-yellow-500",children:[Object(d.jsx)("span",{className:"sr-only",children:"Open options"}),Object(d.jsx)(i.c,{className:"h-5 w-5","aria-hidden":"true"})]})}),Object(d.jsx)(s.a,{as:r.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:Object(d.jsx)(n.a.Items,{style:{zIndex:999},className:"origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white dark:bg-gray-700 ring-1 ring-black ring-opacity-5 focus:outline-none",children:Object(d.jsx)("div",{className:"py-1",children:l()(t,(function(e){return Object(d.jsx)(n.a.Item,{children:function(t){var a=t.active;return Object(d.jsxs)("div",{onClick:function(t){t.stopPropagation(),"function"===typeof e.onClick&&e.onClick()},className:Object(c.a)(a?"bg-gray-100 dark:bg-gray-600 dark:text-white text-gray-900":"text-gray-700 dark:bg-gray-700 dark:text-white","items-center px-4 py-2 flex text-sm cursor-pointer"),children:[e.Icon&&Object(d.jsx)(e.Icon,{className:"mr-2"}),e.name]})}})}))})})})]})}},508:function(e,t,a){"use strict";t.a=a.p+"static/media/placeholder.c69d1bed.png"},526:function(e,t,a){"use strict";var r=a(13),n=a(2);t.a=function(e){var t=e.tabs,a=e.currentTab,s=e.setCurrentTab;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"sm:hidden",children:[Object(n.jsx)("label",{htmlFor:"tabs",className:"sr-only",children:"Select a tab"}),Object(n.jsx)("select",{id:"tabs",name:"tabs",className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",defaultValue:t.find((function(e){return e.name===a})).name,children:t.map((function(e){return Object(n.jsx)("option",{children:e.name},e.name)}))})]}),Object(n.jsx)("div",{className:"hidden sm:block",children:Object(n.jsx)("div",{className:"",children:Object(n.jsx)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:t.map((function(e){return Object(n.jsx)("div",{tabIndex:0,onClick:function(){return s(e.name)},className:Object(r.a)(a===e.name?" gradient-text border-b-2 dark:border-pink-700 border-pink-200":"dark:hover:text-pink-600 border-transparent border-b-2 text-gray-500 hover:text-gray-700 dark:hover:border-gray-600 hover:border-gray-300","whitespace-nowrap py-4 cursor-pointer px-1  font-medium text-sm"),children:e.name},e.name)}))})})})]})}},527:function(e,t,a){"use strict";var r=a(10),n=a(1);t.a=function(e){var t=e[0].name,a=Object(n.useState)(t),s=Object(r.a)(a,2),i=s[0],c=s[1],o=e.map((function(e){return e.name===i}));return{currentTab:i,setCurrentTab:c,helpers:o}}},569:function(e,t,a){"use strict";var r=a(498),n=a(8),s=a(15),i=a(2);t.a=function(e){var t,a=e.group,c=e.userId,o=(null===a||void 0===a||null===(t=a.createdBy)||void 0===t?void 0:t.toString())===c,l=[{id:"1",name:"Copy link to group",onClick:function(){navigator.clipboard.writeText(window.origin+n.a.groupById(a._id))}},o&&{id:"2",name:"Update your settings",onClick:function(){}},{id:"3",name:"Leave this group",onClick:function(){}}].filter(Boolean);return Object(i.jsx)("div",{children:Object(i.jsx)("div",{className:"block border-b border-gray-200 dark:border-gray-700 pt-2",children:Object(i.jsxs)("div",{className:"px-4 py-4 flex items-center sm:px-6",children:[Object(i.jsx)("img",{alt:"",src:a.profilePicture?a.profilePicture:s.s,className:"h-14 w-14  2 -mt-3"}),Object(i.jsx)("div",{className:"min-w-0 ml-2 flex-1 sm:flex sm:items-center sm:justify-between",children:Object(i.jsxs)("div",{className:"truncate",children:[Object(i.jsxs)("div",{className:"flex text-sm relative",children:[Object(i.jsx)("a",{href:n.a.groupById(a._id),className:"font-medium  hover:underline text-lg dark:text-gray-300 text-gray-900 truncate",children:a.groupName}),o&&Object(i.jsx)("div",{className:"ml-2 flex-shrink-0 flex",children:Object(i.jsx)("p",{className:"px-2 inline-flex text-sm items-center justify-center leading-5 font-semibold rounded-md bg-gray-100 text-gray-800 dark:bg-gray-600 dark:text-gray-200",children:"Owner"})})]}),Object(i.jsxs)("div",{className:"mt-0 flex text-sm text-gray-600 dark:text-gray-500",children:[a.members.length," ",a.members.length>1?"members":"member"]})]})}),Object(i.jsx)("div",{className:"relative z-10",children:Object(i.jsx)(r.a,{list:l})})]})})},a._id)}},881:function(e,t,a){"use strict";a.r(t);var r=a(12),n=a(10),s=a(117),i=a.p+"static/media/no-groups.3aa1c7b9.svg",c=a(13),o=a(2),l=function(e){var t=e.children,a=e.show,r=e.animationType,n=void 0===r?"scale":r,s=e.duration,i=void 0===s?"300":s,l=e.className,d=e.customAnimation,u=e.fixWidth,m=void 0!==u&&u;return Object(o.jsx)("div",{className:Object(c.a)(function(){switch(n){case"slider":default:return a?"opacity-100 translate-x-0":"opacity-0 -translate-x-full";case"opacity":return a?"opacity-100":"opacity-0";case"scale":return a?"scale-100 opacity-100":"scale-95 opacity-0";case"translateY":return a?"translate-y-0 opacity-100":"-translate-y-3 opacity-0";case"custom":return a?d.show:d.hide}}(),"transition-all  transform","duration-".concat(i),m?a?l:"w-0":l),children:t})},d=a(34),u=a(188),m=a(69),b=a(487),j=a(494),p=a(526),x=a(119),g=a(527),h=a(33),f=a.n(h),v=a(55),O=a(3),y=a(60),N=a(508),k=a(190),w=a(104),C=a(8),T=a(61),S=a(44),D=a(25),I=a(1),R=a(29),F=a(35),L=a(15),B=a(90),G=function(e){var t=e.onSuccess,a=e.refetchGroup,r=e.groupData,s=void 0===r?null:r,i=e.userData,c=B.a({groupName:B.c().required("Group Name is required").min(10).max(150),groupDescription:B.c().required("Group Description is required").min(10).max(150)}),l={groupName:(null===s||void 0===s?void 0:s.groupName)||"",groupDescription:(null===s||void 0===s?void 0:s.groupDescription)||"",groupRules:(null===s||void 0===s?void 0:s.groupRules)||""},u=Object(I.useRef)(),m=Object(T.b)().setNotification,b=Object(F.useMutation)(y.b,{onSuccess:function(){t()}}),j=Object(F.useMutation)(y.g,{onSuccess:function(e){var t,r=null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.data,n=null===r||void 0===r?void 0:r.groupName;m({show:!0,title:"Dear ".concat(i.firstName,". You have successfully created the group ").concat(n," "),buttonText:"View",buttonUrl:C.a.groupById(r._id)}),a(),b.mutate({postData:{text:"".concat(i.fullName," created group: ").concat(n),postType:"group",customInId:r._id}})}}),p=j.mutate,x=j.isLoading,g=j.isError,h=j.error,G=Object(F.useMutation)(y.A,{onSuccess:function(e){var t,a,r,n,s=Object(D.map)(e.data.data,(function(e){return e}));(null===u||void 0===u?void 0:u.current)&&(null===u||void 0===u||null===(t=u.current)||void 0===t?void 0:t.values)&&p(Object(O.a)(Object(O.a)({},null===u||void 0===u||null===(a=u.current)||void 0===a?void 0:a.values),{},{coverPhoto:null===(r=s.find((function(e){return e.originalname===J.name})))||void 0===r?void 0:r.location,profilePhoto:null===(n=s.find((function(e){return e.originalname===A.name})))||void 0===n?void 0:n.location}))}}),P=function(){var e=new FormData;e.append("images",A),e.append("images",J),setTimeout((function(){G.mutate(e)}),500)},q=!Object(D.isEmpty)(s);Object(I.useEffect)((function(){q&&(Q(null===s||void 0===s?void 0:s.coverPicture),V(null===s||void 0===s?void 0:s.profilePicture))}),[q]);var z=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=Object(I.useRef)(),M=Object(I.useRef)(),U=Object(I.useState)(),E=Object(n.a)(U,2),A=E[0],V=E[1],W=Object(I.useState)(),Y=Object(n.a)(W,2),J=Y[0],Q=Y[1];return Object(o.jsxs)("div",{className:"px-1",children:[Object(o.jsx)("input",{ref:M,className:"hidden",type:"file",onChange:function(e){return Q(e.target.files[0])},accept:"image/x-png,image/jpeg"}),Object(o.jsx)("input",{ref:_,className:"hidden",type:"file",onChange:function(e){return V(e.target.files[0])},accept:"image/x-png,image/jpeg"}),Object(o.jsx)(S.b,{initialValues:l,enableReinitialize:!0,innerRef:u,validationSchema:c,onSubmit:z,children:Object(o.jsxs)(S.a,{className:"space-y-6",children:[Object(o.jsxs)("div",{className:" overflow-hidden  bg-white dark:bg-gray-900",children:[Object(o.jsxs)("div",{className:"relative  group",children:[Object(o.jsx)("div",{className:"absolute top-0 right-0 p-4",children:Object(o.jsx)(R.j,{className:"bg-gray-100   transition-all hover:bg-gray-300 duration-300 rounded-full p-2 text-gray-700 h-8 w-8"})}),Object(o.jsx)("img",{alt:"",onClick:function(){return function(){var e;return null===M||void 0===M||null===(e=M.current)||void 0===e?void 0:e.click()}()},src:J?q?J:URL.createObjectURL(J):N.a,className:"w-full lg:h-36 sm:h-24 object-cover h-20"})]}),Object(o.jsx)("div",{className:"flex  relative justify-start mr-8 ml-4 -mt-12",children:Object(o.jsx)("img",{onClick:function(){return function(){var e;return null===_||void 0===_||null===(e=_.current)||void 0===e?void 0:e.click()}()},alt:"",src:A?q?A:URL.createObjectURL(A):L.s,className:" border-solid lg:h-24 lg:w-24 h-16 w-16  border-white border-2 -mt-3"})})]}),Object(o.jsx)(w.a,{label:"Group Name",id:"groupName",name:"groupName",required:!0,placeholder:"Add group name"}),Object(o.jsx)(w.a,{label:"Description",id:"groupDescription",name:"groupDescription",placeholder:"What is the purpose of this group?",textarea:!0,rows:2,cols:255}),Object(o.jsx)(w.a,{label:"Group rules",id:"groupRules",name:"groupRules",placeholder:"Set the tone and expectations of your group",textarea:!0,rows:2,cols:255}),Object(o.jsx)("div",{className:"flex  items-center justify-end",children:Object(o.jsx)(d.a,{type:"submit",rounded:"rounded-lg",loading:G.isLoading||x,disabled:G.isLoading||x,gradient:!0,size:"lg",label:"Create group"})}),g&&Object(o.jsx)(k.a,{errors:[h.toString()]})]})})]})},P=a(569),q=function(){return Object(o.jsxs)("div",{className:"m-4 text-center flex items-center justify-center flex-col",children:[Object(o.jsx)("img",{src:i,alt:"",className:"h-28 sm:h-32 lg:h-36 xl:h-40 w-full"}),Object(o.jsx)("h3",{className:"mt-4 text-xl font-medium dark:text-gray-300 text-gray-900",children:"Discover groups"}),Object(o.jsx)("p",{className:"mt-1 text-base text-gray-500",children:"Find other trusted communities that share and support your goals."}),Object(o.jsx)("div",{className:"mt-6",children:Object(o.jsx)(d.a,{size:"sm",rounded:"rounded-full",label:"Discover",gradient:!0,onClick:function(){}})})]})},z=function(e){var t=e.groups,a=e.userId;return Object(o.jsx)("div",{className:"bg-white dark:bg-gray-800",children:Object(o.jsx)("ul",{className:"",children:t.map((function(e){return Object(o.jsx)(P.a,{group:e,userId:a})}))})})},_=[{name:"Your groups"},{name:"Requested"}];t.default=function(e){var t,a,i,c=e.userData,h=Object(F.useQuery)("group-list",s.h),f=h.data,v=h.isLoading,O=h.isFetched,y=h.refetch,N=Object(F.useQuery)("requested-group-list",s.p),k=O&&!v?null===f||void 0===f||null===(t=f.data)||void 0===t?void 0:t.data:[],w=N.isFetched&&!N.isLoading?null===(a=N.data)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.data:[],C=Object(I.useState)([]),T=Object(n.a)(C,2),S=T[0],D=T[1],R=Object(g.a)(_),L=R.currentTab,B=R.setCurrentTab,P=R.helpers,M=Object(n.a)(P,2),U=M[0],E=M[1];Object(I.useEffect)((function(){U&&(k&&k.length>0?D(Object(r.a)(k)):D([]))}),[k,U]),Object(I.useEffect)((function(){E&&(w&&w.length>0?D(Object(r.a)(w)):D([]))}),[w,E]);var A=S?S.length:0,V=Object(I.useState)(!1),W=Object(n.a)(V,2),Y=W[0],J=W[1];return Object(o.jsxs)(x.a,{userData:c,customMaxWidth:"max-w-7xl",children:[Object(o.jsx)(b.a,{setOpen:J,header:"Create group",open:Y,children:Object(o.jsx)("div",{className:" min-w-132 max-w-164 min-h-56 max-h-132 overflow-y-auto",children:Object(o.jsx)(G,{userData:c,refetchGroup:y,onSuccess:function(){return J(!1)}})})}),Object(o.jsx)(m.a,{pageTitle:"(".concat(A,") Groups | 13RMS"),title:"(".concat(A,") Groups | 13RMS")}),Object(o.jsx)(u.a,{content:Object(o.jsxs)("div",{className:"",children:[Object(o.jsxs)("div",{className:"border-b flex items-center justify-between border-gray-200 dark:border-gray-700",children:[Object(o.jsx)(p.a,{tabs:_,currentTab:L,setCurrentTab:B}),Object(o.jsx)(d.a,{size:"md",rounded:"rounded-full",label:"Create group",onClick:function(){return J(!0)},gradient:!0,invert:!0})]}),v&&!O?Object(o.jsx)(j.a,{}):S.length>0?Object(o.jsxs)("div",{className:"mt-4",children:[Object(o.jsx)(l,{show:U,children:U&&Object(o.jsx)(z,{userId:c._id,groups:S})}),Object(o.jsx)(l,{show:E,children:E&&Object(o.jsx)(z,{groups:S,userId:c._id})})]}):Object(o.jsx)(q,{})]})})]})}}}]);
//# sourceMappingURL=27.cecb155f.chunk.js.map