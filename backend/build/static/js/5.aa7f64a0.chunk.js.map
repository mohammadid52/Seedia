{"version":3,"sources":["pages/Signup.jsx"],"names":["Signup","useState","isLoaded","validationSchema","Yup","firstName","required","lastName","email","password","min","confirmPassword","oneOf","saving","setSaving","errors","setErrors","history","useHistory","setValues","useUserContext","onSubmit","_values","a","data","fullName","other","accountFilled","accountFinishedStep","token","getAccessToken","network","post","headers","Authorization","res","localStorage","setItem","access_token","push","links","CHOOSE_ACCOUNT","message","console","error","className","src","alt","initialValues","SIGNUP","gridClass","label","id","name","type","showPasswordButton","href","hidden","length","fullWidth","rounded","loading","gradient"],"mappings":"mQAiMeA,UAnLA,WACb,MAAmBC,oBAAS,GAArBC,EAAP,oBAEMC,EAAmBC,IAAW,CAClCC,UAAWD,MAAaE,SAAS,gCACjCC,SAAUH,MAAaE,SAAS,+BAChCE,MAAOJ,MACJI,MAAM,yBACNF,SAAS,4BACZG,SAAUL,MACPM,IAAI,EAAG,8CACPJ,SAAS,uBACZK,gBAAiBP,MACdQ,MAAM,CAACR,IAAQ,YAAa,MAAO,uBACnCE,SAAS,iCAGd,EAA4BL,oBAAS,GAArC,mBAAOY,EAAP,KAAeC,EAAf,KACA,EAA4Bb,mBAAS,IAArC,mBAAOc,EAAP,KAAeC,EAAf,KAEMC,EAAUC,cAERC,EAAcC,cAAdD,UAEFE,EAAQ,uCAAG,WAAOC,GAAP,mBAAAC,EAAA,sEAEbT,GAAU,GACJU,EAAO,CACXf,SAAUa,EAAQb,SAClBJ,UAAWiB,EAAQjB,UACnBE,SAAUe,EAAQf,SAClBC,MAAOc,EAAQd,MACfiB,SAAUH,EAAQjB,UAAY,IAAMiB,EAAQf,SAE5CmB,MAAO,CACLC,eAAe,EACfC,oBAAqB,WAGnBC,EAAQC,cAfD,SAiBKC,IAAQC,KACxB,iBADgB,eAGXR,GAEL,CACES,QAAS,CAAEC,cAAeL,KAvBjB,OAiBPM,EAjBO,OA2BbC,aAAaC,QAAQ,eAAgBF,EAAIX,KAAKA,KAAKc,qBAE5Cd,EAAKf,SACZU,EAAU,2BAAKgB,EAAIX,KAAKA,MAASA,IAEjCP,EAAQsB,KAAKC,IAAMC,gBAhCN,kDAkCbzB,EAAU,CAAC,KAAM0B,UACjBC,QAAQC,MAAR,MAnCa,yBAqCb9B,GAAU,GArCG,6EAAH,sDAyCd,OAAQZ,EAGN,sBAAK2C,UAAU,6FAAf,UACE,sBAAKA,UAAU,+DAAf,UACE,qBACEA,UAAU,sBACVC,IAA8B,YAC9BC,IAAI,aAEN,oBAAIF,UAAU,yEAAd,gCAGA,oBAAGA,UAAU,yCAAb,kDACuC,uBADvC,qCAMF,sBAAKA,UAAU,wCAAf,UACE,qBAAKA,UAAU,qHAAf,SACE,cAAC,IAAD,CACEG,cAAeC,IACf9C,iBAAkBA,EAClBkB,SAAUA,EAHZ,SAKE,eAAC,IAAD,CAAMwB,UAAU,YAAhB,UACE,sBAAKA,UAAU,uDAAf,UACE,cAAC,IAAD,CACEK,UAAU,gBACVC,MAAM,aACNC,GAAG,YACHC,KAAK,YACL/C,UAAQ,IAGV,cAAC,IAAD,CACE4C,UAAU,gBACVC,MAAM,YACNC,GAAG,WACHC,KAAK,WACL/C,UAAQ,OAIZ,cAAC,IAAD,CACE6C,MAAM,QACNC,GAAG,QACHC,KAAK,QACL/C,UAAQ,EACRgD,KAAK,UAEP,cAAC,IAAD,CACEH,MAAM,WACNC,GAAG,WACHC,KAAK,WACLE,oBAAkB,EAClBD,KAAK,WACLhD,UAAQ,IAEV,cAAC,IAAD,CACE6C,MAAM,mBACNE,KAAK,kBACLD,GAAG,kBACHG,oBAAkB,EAClBD,KAAK,WACLhD,UAAQ,IAGV,oBAAGuC,UAAU,0DAAb,2DACiD,IAC/C,mBACEW,KAAK,KACLX,UAAU,wDAFZ,4CAKK,IAPP,MAQM,IACJ,mBACEW,KAAK,KACLX,UAAU,wDAFZ,8BAOF,qBAAKY,OAA0B,IAAlB1C,EAAO2C,OAApB,SACE,cAAC,IAAD,CAAO3C,OAAQA,MAGjB,8BACE,cAAC,IAAD,CACEuC,KAAK,SACLK,WAAS,EACTC,QAAQ,aACRC,QAAShD,EACTiD,UAAQ,EACRX,MAAM,uCAMhB,sBAAKN,UAAU,mCAAf,8BAEE,oBAAGW,KAAK,SAASX,UAAU,aAA3B,UACG,IADH,qBAMJ,cAAC,IAAD,OA7GF,cAAC,IAAD","file":"static/js/5.aa7f64a0.chunk.js","sourcesContent":["import { useState } from 'react'\nimport Loading from 'components/Loading'\nimport Copyright from 'components/Copyright'\nimport Button from 'components/atoms/Button'\nimport { useHistory } from 'react-router-dom'\nimport FormInput from 'components/atoms/FormInput'\nimport { Formik, Form } from 'formik'\nimport * as Yup from 'yup'\nimport { links } from 'constants/Links'\nimport Error from 'components/alerts/Error'\nimport { SIGNUP } from 'initials'\nimport { useUserContext } from 'context/UserContext'\nimport { getAccessToken, network } from 'helpers'\n\nconst Signup = () => {\n  const [isLoaded] = useState(true)\n\n  const validationSchema = Yup.object({\n    firstName: Yup.string().required('Please enter your first name'),\n    lastName: Yup.string().required('Please enter your last name'),\n    email: Yup.string()\n      .email('Invalid email address')\n      .required('Please add email address'),\n    password: Yup.string()\n      .min(6, 'Password must be atleast 6 characters long')\n      .required('Please add password'),\n    confirmPassword: Yup.string()\n      .oneOf([Yup.ref('password'), null], 'Password must match')\n      .required('Please add confirm password'),\n  })\n\n  const [saving, setSaving] = useState(false)\n  const [errors, setErrors] = useState([])\n\n  const history = useHistory()\n\n  const { setValues } = useUserContext()\n\n  const onSubmit = async (_values) => {\n    try {\n      setSaving(true)\n      const data = {\n        password: _values.password,\n        firstName: _values.firstName,\n        lastName: _values.lastName,\n        email: _values.email,\n        fullName: _values.firstName + ' ' + _values.lastName,\n\n        other: {\n          accountFilled: false,\n          accountFinishedStep: 'signup',\n        },\n      }\n      const token = getAccessToken()\n\n      const res = await network.post(\n        '/auth/register',\n        {\n          ...data,\n        },\n        {\n          headers: { Authorization: token },\n        }\n      )\n\n      localStorage.setItem('access_token', res.data.data.access_token)\n\n      delete data.password\n      setValues({ ...res.data.data, ...data })\n\n      history.push(links.CHOOSE_ACCOUNT)\n    } catch (error) {\n      setErrors([error.message])\n      console.error(error)\n    } finally {\n      setSaving(false)\n    }\n  }\n\n  return !isLoaded ? (\n    <Loading />\n  ) : (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-800 flex flex-col justify-start py-12 sm:px-6 lg:px-8\">\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-md flex items-center flex-col \">\n        <img\n          className=\"mx-auto h-32 w-auto\"\n          src={process.env.PUBLIC_URL + '/logo.png'}\n          alt=\"Workflow\"\n        />\n        <h2 className=\"mt-6 dark:text-white text-center text-3xl font-extrabold text-gray-900\">\n          Create new account\n        </h2>\n        <p className=\"mt-2 text-center text-sm text-gray-600\">\n          Discover the benefits of selling and <br />\n          networking with your profile\n        </p>\n      </div>\n\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n        <div className=\"bg-white dark:border-gray-700 border border-transparent dark:bg-gray-800 py-8 px-4 shadow-md sm:rounded-lg sm:px-6\">\n          <Formik\n            initialValues={SIGNUP}\n            validationSchema={validationSchema}\n            onSubmit={onSubmit}\n          >\n            <Form className=\"space-y-6\">\n              <div className=\"mt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6\">\n                <FormInput\n                  gridClass=\"sm:col-span-3\"\n                  label=\"First name\"\n                  id=\"firstName\"\n                  name=\"firstName\"\n                  required\n                />\n\n                <FormInput\n                  gridClass=\"sm:col-span-3\"\n                  label=\"Last name\"\n                  id=\"lastName\"\n                  name=\"lastName\"\n                  required\n                />\n              </div>\n\n              <FormInput\n                label=\"Email\"\n                id=\"email\"\n                name=\"email\"\n                required\n                type=\"email\"\n              />\n              <FormInput\n                label=\"Password\"\n                id=\"password\"\n                name=\"password\"\n                showPasswordButton\n                type=\"password\"\n                required\n              />\n              <FormInput\n                label=\"Confirm password\"\n                name=\"confirmPassword\"\n                id=\"confirmPassword\"\n                showPasswordButton\n                type=\"password\"\n                required\n              />\n\n              <p className=\"my-4 text-left text-xs dark:text-gray-400 text-gray-600\">\n                By clicking Agree and Join, you agree to 13RMS{' '}\n                <a\n                  href=\"#/\"\n                  className=\"font-medium text-xs text-blue-600 hover:text-blue-500\"\n                >\n                  User Agreement, Privacy Policy\n                </a>{' '}\n                and{' '}\n                <a\n                  href=\"#/\"\n                  className=\"font-medium text-xs text-blue-600 hover:text-blue-500\"\n                >\n                  Cookie Policy\n                </a>\n              </p>\n              <div hidden={errors.length === 0}>\n                <Error errors={errors} />\n              </div>\n\n              <div>\n                <Button\n                  type=\"submit\"\n                  fullWidth\n                  rounded=\"rounded-lg\"\n                  loading={saving}\n                  gradient\n                  label=\"Agree and become a member\"\n                />\n              </div>\n            </Form>\n          </Formik>\n        </div>\n        <div className=\"mt-4 text-center dark:text-white\">\n          Already on 13RMS?\n          <a href=\"/login\" className=\"link-hover\">\n            {' '}\n            Login now\n          </a>\n        </div>\n      </div>\n      <Copyright />\n    </div>\n  )\n}\nexport default Signup\n"],"sourceRoot":""}